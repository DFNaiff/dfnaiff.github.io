{"version":3,"file":"static/js/main.ac995d8a.js","mappings":"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","sources":["src/shared/types/actions.ts","src/config/env.ts","src/services/socket.service.ts","src/theme/ThemeContext.tsx","src/utils/alert.ts","src/screens/LoginScreen.tsx","src/screens/HomeScreen.tsx","src/components/GameManagement.tsx","src/components/Card.tsx","src/components/GamePlay.tsx","src/components/GameEnd.tsx","src/shared/types/game-state.ts","src/components/ConfirmDialog.tsx","src/components/LeaveGameButton.tsx","src/components/ShareGameLink.tsx","src/screens/GameScreen.tsx","src/screens/GameCreationScreen.tsx","src/screens/JoinGameScreen.tsx","src/components/ThemeToggleButton.tsx","App.tsx","index.ts","webpack://web/./src/components/Card.web.css?a5d3","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import { AvailableGames } from './game-state';\n\n// Authentication Actions\nexport enum AuthActions {\n    LOGIN = 'auth/login',\n    LOGOUT = 'auth/logout',\n    HEARTBEAT = 'auth:heartbeat'\n}\n\nexport type LoginPayload = {\n    username: string;\n}\n\nexport type LoginResponse = {\n    success: boolean;\n    error?: string;\n    userId?: string;\n}\n\n// Main Service Actions\nexport enum MainActions {\n    CREATE_GAME = 'main/createGame',\n    JOIN_GAME = 'main/joinGame',\n    LEAVE_GAME = 'main/leaveGame'\n}\n\nexport type CreateGamePayload = {\n    gameType: AvailableGames;\n}\n\nexport type JoinGamePayload = {\n    gameId: string;\n}\n\n// Game Administrative Actions\nexport enum GameAdminActions {\n    ADD_AGENT = 'game/admin/addAgent',\n    START_GAME = 'game/admin/startGame',\n    KICK_PLAYER = 'game/admin/kickPlayer',\n    LEAVE_GAME = 'game/admin/leaveGame',\n    REORDER_PLAYER = 'game/admin/reorderPlayer'\n}\n\nexport type KickPlayerPayload = {\n    playerId: string;\n}\n\n// Game Play Actions\nexport enum GamePlayActions {\n    PLAY_CARD = 'game/play/playCard',\n    EXTRA_ACTION = 'game/play/extraAction'\n}\n\nexport interface PlayCardPayload {\n    cardIndex: number;\n    gameId: string;\n}\n\nexport interface ExtraActionPayload {\n    actionType: string;\n    actionData: Record<string, unknown>;\n    gameId: string;\n}\n\n// Server Broadcast Types\nexport enum BroadcastTypes {\n    STATE = 'broadcast/state',\n    GAME_ERROR = 'broadcast/gameError',\n    GAME_ENDED = 'broadcast/gameEnded',\n    GAME_DELETED = 'broadcast/gameDeleted',\n    NOT_IN_GAME = 'broadcast/notInGame'\n}\n\nexport interface GameEndedPayload {\n    gameId: string;\n    winner?: string;\n}\n\nexport interface GameErrorPayload {\n    gameId: string;\n    error: string;\n}","const ENV = {\n    development: {\n      socketUrl: 'http://localhost:3000',\n      socketPath: '/socket.io/',\n    },\n    production: {\n      socketUrl: 'https://suecatatau-server-production.up.railway.app',\n      socketPath: '/socket.io/',\n    }\n  };\n  \n  // In development, the app can connect to your local server\n  // In production, it will connect to the Railway server\n  const getEnvironment = () => {\n    if (__DEV__) {\n      return ENV.development;\n    }\n    return ENV.production;\n  };\n  \n  export default getEnvironment();","import { io, Socket } from 'socket.io-client';\nimport { AvailableGames } from '../shared/types/game-state';\nimport { AuthActions, GamePlayActions, GameAdminActions, MainActions } from '../shared/types/actions';\nimport { BroadcastTypes } from '../shared/types/actions';\nimport { GameBroadcastState } from '../shared/types/game-state';\nimport config from '../config/env';\n\ninterface LoginResponse {\n    success: boolean;\n    userId?: string;\n    error?: string;\n}\n\ninterface GameResponse {\n    success: boolean;\n    gameId?: string;\n    error?: string;\n}\n\nexport class SocketService {\n    private socket: Socket;\n    private static instance: SocketService;\n    private currentUser: { username: string; userId: string } | null = null;\n    private reconnectAttempts: number = 0;\n    private readonly MAX_RECONNECT_ATTEMPTS = 5;\n    private heartbeatInterval: NodeJS.Timeout | null = null;\n    private readonly HEARTBEAT_INTERVAL = 60 * 1000; // Send heartbeat every minute\n    private eventHandlers: Map<string, Function[]> = new Map();\n\n    private constructor() {\n        this.socket = io(config.socketUrl, {\n            transports: ['websocket', 'polling'],\n            path: config.socketPath,\n            autoConnect: false,\n            reconnection: true,\n            reconnectionAttempts: this.MAX_RECONNECT_ATTEMPTS,\n            reconnectionDelay: 1000,\n            timeout: 10000\n        });\n\n        console.log('SocketService constructor called, connecting to:', config.socketUrl);\n        \n        this.setupSocketListeners();\n    }\n\n    private setupSocketListeners() {\n        this.socket.on('connect', () => {\n            console.log('Socket CONNECTED, ID:', this.socket.id);\n            this.reconnectAttempts = 0;\n        });\n\n        this.socket.on('disconnect', (reason) => {\n            console.log('Socket DISCONNECTED, was ID:', this.socket.id, 'Reason:', reason);\n            if (reason === 'io server disconnect') {\n                // the disconnection was initiated by the server, reconnect manually\n                this.socket.connect();\n            }\n        });\n\n        this.socket.on('connect_error', (error) => {\n            console.error('Connection error:', error);\n            this.reconnectAttempts++;\n            \n            if (this.reconnectAttempts >= this.MAX_RECONNECT_ATTEMPTS) {\n                console.error('Max reconnection attempts reached');\n                this.socket.disconnect();\n            }\n        });\n\n        this.socket.on('reconnect', (attemptNumber) => {\n            console.log('Socket RECONNECTED, new ID:', this.socket.id, 'Attempt:', attemptNumber);\n        });\n\n        this.socket.on('reconnect_attempt', (attemptNumber) => {\n            console.log('Socket RECONNECTING, attempt:', attemptNumber);\n        });\n\n        this.socket.on(BroadcastTypes.STATE, (state: GameBroadcastState) => {\n            console.log('Received state update for socket ID:', this.socket.id);\n        });\n\n        this.socket.on(BroadcastTypes.GAME_DELETED, (data: { gameId: string }) => {\n            console.log('Received game deleted event for socket ID:', this.socket.id, 'Game ID:', data.gameId);\n        });\n\n        this.socket.on(BroadcastTypes.NOT_IN_GAME, (data: { gameId: string, playerId: string }) => {\n            console.log('Received not in game event for socket ID:', this.socket.id, 'Game ID:', data.gameId, 'Player ID:', data.playerId);\n            \n            this.triggerEvent(BroadcastTypes.NOT_IN_GAME, data);\n        });\n\n        this.socket.on('forceDisconnect', (data: { reason: string }) => {\n            console.log('[Client Force Disconnect]', {\n                socketId: this.socket.id,\n                userId: this.currentUser?.userId,\n                reason: data.reason,\n                timestamp: new Date().toISOString()\n            });\n            this.clearHeartbeat();\n            this.clearCurrentUser();\n            this.socket.disconnect();\n        });\n    }\n\n    public static getInstance(): SocketService {\n        if (!SocketService.instance) {\n            SocketService.instance = new SocketService();\n        }\n        return SocketService.instance;\n    }\n\n    public connect(playerName: string): Promise<void> {\n        console.log('Connect called, current socket ID:', this.socket.id);\n        return new Promise((resolve, reject) => {\n            if (this.socket.connected) {\n                console.log('Socket already connected with ID:', this.socket.id);\n                resolve();\n                return;\n            }\n            \n            this.socket.connect();\n            this.socket.on('connect', () => {\n                console.log('Connected to server with ID:', this.socket.id);\n                resolve();\n            });\n            \n            this.socket.on('connect_error', (error) => {\n                reject(error);\n            });\n        });\n    }\n\n    public createGame(playerName: string, gameType: AvailableGames, gameName: string): Promise<GameResponse> {\n        return new Promise<GameResponse>((resolve, reject) => {\n            console.log('Emitting createGame event with playerName:', playerName,\n                'and gameType:', gameType);\n\n            const timeout = setTimeout(() => {\n                reject(new Error('createGame timeout'));\n            }, 5000);\n\n            this.socket.emit(MainActions.CREATE_GAME, { playerName, gameType, gameName}, (response: GameResponse) => {\n                console.log('Received response from createGame:', response);\n                clearTimeout(timeout);\n                resolve(response);\n            });\n\n            this.socket.on('error', (error) => {\n                console.error('Socket error:', error);\n                reject(error);\n            });\n        });\n    }\n\n    public joinGame(gameId: string, playerName: string): Promise<{ success: boolean; error?: string }> {\n        return new Promise<{ success: boolean; error?: string }>((resolve, reject) => {\n            console.log('Emitting joinGame event with gameId:', gameId, 'playerName:', playerName);\n\n            // Add timeout to detect if callback never happens\n            const timeout = setTimeout(() => {\n                reject(new Error('joinGame timeout'));\n            }, 5000);\n\n            this.socket.emit(MainActions.JOIN_GAME, { gameId, playerName }, (response: { success: boolean; error?: string }) => {\n                console.log('Received response from joinGame:', response);\n                clearTimeout(timeout);\n                resolve(response);\n            });\n\n            // Add error handler\n            this.socket.on('error', (error) => {\n                console.error('Socket error:', error);\n                reject(error);\n            });\n        });\n    }\n\n    public addAgent(gameId: string): Promise<{ success: boolean }> {\n        return new Promise((resolve) => {\n            this.socket.emit(GameAdminActions.ADD_AGENT, { gameId }, (response: { success: boolean }) => {\n                resolve(response);\n            });\n        });\n    }\n\n    public startGame(gameId: string): Promise<{ success: boolean }> {\n        return new Promise((resolve) => {\n            this.socket.emit(GameAdminActions.START_GAME, { gameId }, (response: { success: boolean }) => {\n                resolve(response);\n            });\n        });\n    }\n\n    public playCard(gameId: string, cardIndex: number): Promise<{ success: boolean }> {\n        return new Promise((resolve) => {\n            this.socket.emit(GamePlayActions.PLAY_CARD, { gameId, cardIndex }, (response: { success: boolean }) => {\n                resolve(response);\n            });\n        });\n    }\n\n    public onGameState(callback: (state: GameBroadcastState) => void) {\n\n        console.log('Setting up game state listener for socket:', {\n            socketId: this.socket.id,\n            userId: this.currentUser?.userId,\n            connected: this.socket.connected\n        });\n    \n        this.socket.onAny((eventName, ...args) => {\n            console.log('Received event:', eventName, 'Socket ID:', this.socket.id, 'Args:', args);\n        });\n    \n        this.socket.on(BroadcastTypes.STATE, (state: GameBroadcastState) => {\n            console.log('Received game state for socket:', {\n                socketId: this.socket.id,\n                userId: this.currentUser?.userId,\n                state\n            });\n            callback(state);\n        });    \n\n        this.socket.on('connect', () => {\n            console.log('Socket connected:', this.socket.id);\n        });\n\n        this.socket.on('disconnect', () => {\n            console.log('Socket disconnected');\n        });\n    }\n\n    public disconnect() {\n        this.socket.disconnect();\n    }\n\n    public setupHeartbeat() {\n        if (this.heartbeatInterval) {\n            clearInterval(this.heartbeatInterval);\n            console.log('[Client Heartbeat] Cleared existing heartbeat interval');\n        }\n\n        console.log('[Client Heartbeat] Setting up new heartbeat interval');\n        this.heartbeatInterval = setInterval(() => {\n            if (this.socket.connected && this.currentUser) {\n                console.log('[Client Heartbeat] Sending heartbeat');\n\n                // Set a timeout to detect if the heartbeat response never comes back\n                const heartbeatTimeout = setTimeout(() => {\n                    console.warn('[Client Heartbeat] Heartbeat response timeout - connection may be stale');\n                    // Force reconnection attempt\n                    this.socket.disconnect();\n                    this.reconnect().catch(error => {\n                        console.error('Failed to reconnect after heartbeat timeout:', error);\n                    });\n                }, 10000); // 10 second timeout\n\n                this.socket.emit(AuthActions.HEARTBEAT, {}, (response: { success: boolean }) => {\n                    clearTimeout(heartbeatTimeout);\n                    console.log('[Client Heartbeat] Received response:', {\n                        socketId: this.socket.id,\n                        userId: this.currentUser?.userId,\n                        success: response.success,\n                        timestamp: new Date().toISOString()\n                    });\n\n                    if (!response.success) {\n                        console.warn('[Client Heartbeat] Failed, initiating logout');\n                        this.logout();\n                    }\n                });\n            } else {\n                console.log('[Client Heartbeat] Skipped: Socket disconnected or no user', {\n                    connected: this.socket.connected,\n                    hasUser: !!this.currentUser\n                });\n            }\n        }, this.HEARTBEAT_INTERVAL);\n    }\n\n    private clearHeartbeat() {\n        if (this.heartbeatInterval) {\n            console.log('[Client Heartbeat] Clearing heartbeat interval');\n            clearInterval(this.heartbeatInterval);\n            this.heartbeatInterval = null;\n        }\n    }\n\n    public login(username: string): Promise<LoginResponse> {\n        return new Promise((resolve) => {\n            this.socket.connect();\n            console.log('Logging in with socket ID:', this.socket.id);\n            \n            this.socket.emit(AuthActions.LOGIN, { username }, (response: LoginResponse) => {\n                console.log('Login response received for socket:', {\n                    socketId: this.socket.id,\n                    response\n                });\n                if (response.success) {\n                    this.setCurrentUser(username, response.userId!);\n                    this.setupHeartbeat(); // Start heartbeat after successful login\n                } else {\n                    this.socket.disconnect();\n                }\n                resolve(response);\n            });\n        });\n    }\n\n    public extraAction(gameId: string, actionType: string, actionData: any): Promise<GameResponse> {\n        return new Promise((resolve) => {\n            this.socket.emit(GamePlayActions.EXTRA_ACTION, { \n                gameId, \n                actionType, \n                actionData \n            }, (response: GameResponse) => {\n                resolve(response);\n            });\n        });\n    }\n\n    public setCurrentUser(username: string, userId: string) {\n        this.currentUser = { username, userId };\n    }\n\n    public getCurrentUser() {\n        return this.currentUser;\n    }\n\n    public clearCurrentUser() {\n        this.currentUser = null;\n    }\n\n    public async logout(): Promise<void> {\n        this.clearHeartbeat(); // Stop heartbeat before logout\n        if (this.currentUser) {\n            await new Promise<void>((resolve) => {\n                this.socket.emit(AuthActions.LOGOUT, {}, () => {\n                    this.clearCurrentUser();\n                    this.socket.disconnect();\n                    resolve();\n                });\n            });\n        }\n    }\n\n    public leaveGame(gameId: string): Promise<{ success: boolean; error?: string }> {\n        return new Promise((resolve, reject) => {\n            console.log('Emitting leaveGame event with gameId:', gameId);\n\n            const timeout = setTimeout(() => {\n                reject(new Error('leaveGame timeout'));\n            }, 5000);\n\n            this.socket.emit(MainActions.LEAVE_GAME, { gameId }, (response: { success: boolean; error?: string }) => {\n                console.log('Received response from leaveGame:', response);\n                clearTimeout(timeout);\n                resolve(response);\n            });\n\n            this.socket.on('error', (error) => {\n                console.error('Socket error:', error);\n                reject(error);\n            });\n        });\n    }\n\n    public kickPlayer(gameId: string, playerId: string): void {\n        this.socket.emit(GameAdminActions.KICK_PLAYER, { gameId, playerId });\n    }\n\n    public on(event: string, callback: Function) {\n        if (!this.eventHandlers.has(event)) {\n            this.eventHandlers.set(event, []);\n        }\n        this.eventHandlers.get(event)?.push(callback);\n    }\n    \n    public off(event: string, callback: Function) {\n        if (!this.eventHandlers.has(event)) return;\n        \n        const handlers = this.eventHandlers.get(event) || [];\n        const index = handlers.indexOf(callback);\n        if (index !== -1) {\n            handlers.splice(index, 1);\n        }\n    }\n    \n    private triggerEvent(event: string, ...args: any[]) {\n        const handlers = this.eventHandlers.get(event) || [];\n        handlers.forEach(handler => handler(...args));\n    }\n\n    public isConnected(): boolean {\n        return this.socket.connected;\n    }\n    \n    public reconnect(): Promise<void> {\n        return new Promise((resolve, reject) => {\n            if (this.socket.connected) {\n                console.log('Socket already connected, no need to reconnect');\n                resolve();\n                return;\n            }\n            \n            console.log('Attempting to reconnect socket...');\n            \n            // Set timeout for reconnection attempt\n            const timeout = setTimeout(() => {\n                reject(new Error('Socket reconnection timeout'));\n            }, 5000);\n            \n            const onConnect = () => {\n                clearTimeout(timeout);\n                this.socket.off('connect', onConnect);\n                this.socket.off('connect_error', onError);\n                \n                // If we have a current user, reestablish authentication\n                if (this.currentUser) {\n                    this.login(this.currentUser.username)\n                        .then(response => {\n                            if (response.success) {\n                                console.log('Re-authenticated after reconnect');\n                                resolve();\n                            } else {\n                                reject(new Error('Failed to re-authenticate after reconnection'));\n                            }\n                        })\n                        .catch(reject);\n                } else {\n                    resolve();\n                }\n            };\n            \n            const onError = (error: any) => {\n                clearTimeout(timeout);\n                this.socket.off('connect', onConnect);\n                this.socket.off('connect_error', onError);\n                reject(error);\n            };\n            \n            this.socket.on('connect', onConnect);\n            this.socket.on('connect_error', onError);\n            \n            // Connect the socket\n            this.socket.connect();\n        });\n    }\n\n    public getSocket(): Socket {\n        return this.socket;\n    }\n\n    public reorderPlayer(gameId: string, playerId: string, direction: 'up' | 'down') {\n        this.socket.emit(GameAdminActions.REORDER_PLAYER, {\n            gameId,\n            playerId,\n            direction\n        });\n    }\n\n    public isLoggedIn(): boolean {\n        return !!this.currentUser;\n    }\n}\n","// Theme context with provider for theme switching\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n\nexport type ThemeType = 'light' | 'dark';\n\n// Theme color interface containing all colors used in the app\nexport interface ThemeColors {\n  // Card colors\n  cardBackground: string;\n  cardBorder: string;\n  cardTextBlack: string;\n  cardTextRed: string;\n  \n  // Dialog colors\n  dialogOverlay: string;\n  dialogBackground: string;\n  dialogCancelButton: string;\n  dialogConfirmButton: string;\n  dialogButtonText: string;\n  \n  // Button colors\n  leaveButtonBackground: string;\n  leaveButtonText: string;\n  \n  // Game UI colors\n  playerInfoBackground: string;\n  playerInfoBorder: string;\n  currentPlayerText: string;\n  playerStatsText: string;\n  trumpInfoBackground: string;\n  trumpInfoBorder: string;\n  teamScoreCardBackground: string;\n  teamScoreCardBorder: string;\n  \n  // Input & form colors\n  inputBorder: string;\n  inputBackground: string;\n  inputText: string;\n  placeholderText: string;\n  \n  // Game table colors\n  tableFelt: string;\n  tableEdge: string;\n  \n  // Status text colors\n  statusText: string;\n  subtitleText: string;\n  \n  // Team score colors\n  playerTeamBackground: string;\n  playerTeamBorder: string;\n  teamScoreText: string;\n  playerTeamScoreText: string;\n  accent: string;\n  \n  // Home screen colors\n  welcomeText: string;\n  logoutButton: string;\n  primaryButton: string;\n  primaryButtonText: string;\n  \n  // App background colors\n  appBackground: string;\n  containerBackground: string;\n  pickerBackground: string;\n  titleText: string;\n  \n  // New colors\n  winningPlayerBackground: string;\n  winningPlayerBorder: string;\n\n  // Share button colors\n  shareButtonBackground: string;\n  shareButtonText: string;\n}\n\n// Light theme (default - exactly matches current hardcoded colors)\nexport const lightColors: ThemeColors = {\n  // Card colors\n  cardBackground: 'white',\n  cardBorder: '#ddd',\n  cardTextBlack: 'black',\n  cardTextRed: 'red',\n  \n  // Dialog colors\n  dialogOverlay: 'rgba(0, 0, 0, 0.5)',\n  dialogBackground: 'white',\n  dialogCancelButton: '#666',\n  dialogConfirmButton: '#d32f2f',\n  dialogButtonText: 'white',\n  \n  // Button colors\n  leaveButtonBackground: '#d32f2f',\n  leaveButtonText: 'white',\n  \n  // Game UI colors\n  playerInfoBackground: 'rgba(255, 255, 255, 0.9)',\n  playerInfoBorder: '#ccc',\n  currentPlayerText: '#4CAF50',\n  playerStatsText: '#666',\n  trumpInfoBackground: 'rgba(255, 255, 255, 0.9)',\n  trumpInfoBorder: '#ccc',\n  teamScoreCardBackground: 'rgba(255, 255, 255, 0.6)',\n  teamScoreCardBorder: 'rgba(0, 0, 0, 0.1)',\n  \n  // Input & form colors\n  inputBorder: '#ddd',\n  inputBackground: 'white',\n  inputText: 'black',\n  placeholderText: 'gray',\n  \n  // Game table colors\n  tableFelt: '#1B5E20',\n  tableEdge: '#4A3211',\n  \n  // Status text colors\n  statusText: '#000000',\n  subtitleText: '#000000',\n  \n  // Team score colors\n  playerTeamBackground: 'rgba(220, 242, 220, 0.7)',\n  playerTeamBorder: 'rgba(76, 175, 80, 0.3)',\n  teamScoreText: '#333',\n  playerTeamScoreText: '#1B5E20',\n  accent: '#66bb6a',\n  \n  // Home screen colors\n  welcomeText: '#000000',\n  logoutButton: '#d32f2f',\n  primaryButton: '#2196f3',\n  primaryButtonText: 'white',\n  \n  // App background colors\n  appBackground: '#e8f5e9', // Light mint green background\n  containerBackground: '#e8f5e9', // Very light sage green\n  pickerBackground: '#e0f2f1', // Subtle teal tint for picker\n  titleText: '#000000', // Keeping text black as requested\n  \n  // New colors\n  winningPlayerBackground: '#4a9eff30',  // Semi-transparent blue\n  winningPlayerBorder: '#4a9eff',       // Solid blue\n\n  // Share button colors\n  shareButtonBackground: '#4CAF50',\n  shareButtonText: 'white',\n};\n\n// Dark theme colors (for future use)\nexport const darkColors: ThemeColors = {\n  // Card colors\n  cardBackground: '#2c2c2c',\n  cardBorder: '#444',\n  cardTextBlack: '#e0e0e0',\n  cardTextRed: '#ff6b6b',\n  \n  // Dialog colors\n  dialogOverlay: 'rgba(0, 0, 0, 0.7)',\n  dialogBackground: '#2c2c2c',\n  dialogCancelButton: '#555',\n  dialogConfirmButton: '#b71c1c',\n  dialogButtonText: '#e0e0e0',\n  \n  // Button colors\n  leaveButtonBackground: '#b71c1c',\n  leaveButtonText: '#e0e0e0',\n  \n  // Game UI colors\n  playerInfoBackground: 'rgba(40, 40, 40, 0.9)',\n  playerInfoBorder: '#444',\n  currentPlayerText: '#66bb6a',\n  playerStatsText: '#aaa',\n  trumpInfoBackground: 'rgba(40, 40, 40, 0.9)',\n  trumpInfoBorder: '#444',\n  teamScoreCardBackground: 'rgba(40, 40, 40, 0.6)',\n  teamScoreCardBorder: 'rgba(255, 255, 255, 0.1)',\n  \n  // Input & form colors\n  inputBorder: '#444',\n  inputBackground: '#222',\n  inputText: '#e0e0e0',\n  placeholderText: '#aaa',\n  \n  // Game table colors\n  tableFelt: '#0c3912',\n  tableEdge: '#2A1901',\n  \n  // Status text colors\n  statusText: '#e0e0e0',\n  subtitleText: '#e0e0e0',\n  \n  // Team score colors\n  playerTeamBackground: 'rgba(40, 97, 40, 0.7)',\n  playerTeamBorder: 'rgba(76, 175, 80, 0.3)',\n  teamScoreText: '#e0e0e0',\n  playerTeamScoreText: '#66bb6a',\n  accent: '#66bb6a',\n  \n  // Home screen colors\n  welcomeText: '#e0e0e0',\n  logoutButton: '#b71c1c',\n  primaryButton: '#1565c0',\n  primaryButtonText: '#e0e0e0',\n  \n  // App background colors\n  appBackground: '#121212',\n  containerBackground: '#121212',\n  pickerBackground: '#333',\n  titleText: '#e0e0e0',\n  \n  // New colors\n  winningPlayerBackground: '#4a9eff30',  // Semi-transparent blue\n  winningPlayerBorder: '#4a9eff',       // Solid blue\n\n  // Share button colors\n  shareButtonBackground: '#4CAF50',\n  shareButtonText: 'white',\n};\n\n// Define the shape of our theme context\ninterface ThemeContextType {\n  themeType: ThemeType;\n  colors: ThemeColors;\n  setThemeType: (type: ThemeType) => void;\n  toggleTheme: () => void;\n}\n\n// Create the context with default values\nconst ThemeContext = createContext<ThemeContextType>({\n  themeType: 'light',\n  colors: lightColors,\n  setThemeType: () => {},\n  toggleTheme: () => {},\n});\n\n// Theme provider component\nexport const ThemeProvider: React.FC<{children: ReactNode}> = ({ children }) => {\n  const [themeType, setThemeType] = useState<ThemeType>('dark');\n  \n  // Get the colors based on the current theme type\n  const colors = themeType === 'light' ? lightColors : darkColors;\n  \n  // Function to toggle between light and dark themes\n  const toggleTheme = () => {\n    setThemeType(prevTheme => prevTheme === 'light' ? 'dark' : 'light');\n  };\n\n  return (\n    <ThemeContext.Provider value={{ themeType, colors, setThemeType, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\n// Custom hook to use the theme\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n};\n\n// For backward compatibility - export the light colors as the default\n// This ensures existing code that uses `import { colors } from '../theme/ThemeContext'` won't break\n// export const colors = lightColors;","import { Platform, Alert as RNAlert } from 'react-native';\n\ninterface AlertOptions {\n  title: string;\n  message: string;\n  buttons?: Array<{\n    text: string;\n    onPress?: () => void;\n    style?: 'default' | 'cancel' | 'destructive';\n  }>;\n  cancelable?: boolean;\n}\n\nexport const CustomAlert = {\n  alert(title: string, message: string, buttons?: Array<{ \n    text: string; \n    onPress?: () => void; \n    style?: 'default' | 'cancel' | 'destructive' \n  }>, options?: { cancelable?: boolean }) {\n    if (Platform.OS === 'web') {\n      // For web, use the browser's alert() and handle button clicks\n      if (!buttons || buttons.length === 0) {\n        // Simple alert with OK button\n        window.alert(`${title}\\n\\n${message}`);\n      } else if (buttons.length === 1) {\n        // Alert with one button\n        window.alert(`${title}\\n\\n${message}`);\n        if (buttons[0].onPress) buttons[0].onPress();\n      } else if (buttons.length === 2) {\n        // Use confirm for two buttons (usually OK/Cancel)\n        const confirmResult = window.confirm(`${title}\\n\\n${message}`);\n        \n        // Find the non-cancel button (usually the OK/Yes button)\n        const confirmButton = buttons.find(button => button.style !== 'cancel');\n        const cancelButton = buttons.find(button => button.style === 'cancel');\n        \n        if (confirmResult && confirmButton?.onPress) {\n          confirmButton.onPress();\n        } else if (!confirmResult && cancelButton?.onPress) {\n          cancelButton.onPress();\n        }\n      } else {\n        // For more than 2 buttons, show a basic alert and execute the first non-cancel action\n        window.alert(`${title}\\n\\n${message}`);\n        const defaultButton = buttons.find(button => button.style !== 'cancel');\n        if (defaultButton?.onPress) defaultButton.onPress();\n      }\n    } else {\n      // For mobile, use React Native's Alert\n      RNAlert.alert(title, message, buttons, options);\n    }\n  }\n};","import React, { useState, useEffect } from 'react';\nimport { View, TextInput, StyleSheet, Text, TouchableOpacity } from 'react-native';\nimport { SocketService } from '../services/socket.service';\nimport { useTheme } from '../theme/ThemeContext';\nimport { CustomAlert } from '../utils/alert';\n\nexport const LoginScreen = ({ navigation, route }: { navigation: any, route: any }) => {\n    const [username, setUsername] = useState('');\n    const socketService = SocketService.getInstance();\n    const { colors } = useTheme();\n    \n    // Extract gameId from route params if it exists\n    const gameId = route.params?.gameId;\n\n    const styles = StyleSheet.create({\n        container: {\n            flex: 1,\n            padding: 20,\n            justifyContent: 'center',\n            backgroundColor: colors.containerBackground,\n        },\n        title: {\n            fontSize: 24,\n            textAlign: 'center',\n            marginBottom: 30,\n            color: colors.titleText,\n        },\n        input: {\n            borderWidth: 1,\n            borderColor: colors.inputBorder,\n            backgroundColor: colors.inputBackground,\n            padding: 10,\n            marginBottom: 20,\n            borderRadius: 5,\n            color: colors.titleText,\n        },\n        buttonContainer: {\n            marginTop: 10,\n        },\n        button: {\n            backgroundColor: colors.primaryButton,\n            padding: 12,\n            borderRadius: 5,\n            alignItems: 'center',\n        },\n        buttonText: {\n            color: colors.primaryButtonText,\n            fontSize: 16,\n            fontWeight: 'bold',\n        },\n        subtitle: {\n            fontSize: 16,\n            marginBottom: 10,\n        }\n    });\n\n    useEffect(() => {\n        if (gameId) {\n            console.log('LoginScreen received gameId:', gameId);\n        }\n    }, [gameId]);\n\n    const handleLogin = async () => {\n        if (!username.trim()) {\n            CustomAlert.alert('Error', 'Please enter a username');\n            return;\n        }\n\n        try {\n            console.log('Logging in with username:', username);\n            const response = await socketService.login(username);\n            \n            if (response.success) {\n                // Store the username globally in the SocketService\n                socketService.setCurrentUser(username, response.userId!);\n                console.log('Login successful.');\n                \n                // If we have a gameId from deep link, join game directly\n                if (gameId) {\n                    console.log('Joining game directly with ID:', gameId);\n                    try {\n                        await socketService.connect(username);\n                        const joinResponse = await socketService.joinGame(gameId, username) as { success: boolean; error?: string };\n                        \n                        if (joinResponse.success) {\n                            navigation.replace('Game', { gameId, playerName: username });\n                        } else {\n                            // Show specific error message based on the error\n                            const errorMessage = joinResponse.error || 'Could not join the game. You will be redirected to the home screen.';\n                            \n                            CustomAlert.alert(\n                                'Game Join Failed', \n                                errorMessage,\n                                [{ text: 'OK', onPress: () => navigation.replace('Home') }]\n                            );\n                        }\n                    } catch (error) {\n                        console.error('Error joining game:', error);\n                        CustomAlert.alert(\n                            'Connection Error', \n                            'Failed to connect to the game server. Please try again later.',\n                            [{ text: 'OK', onPress: () => navigation.replace('Home') }]\n                        );\n                    }\n                } else {\n                    // Normal login flow\n                    navigation.replace('Home');\n                }\n            } else {\n                console.log('Login failed:', response.error || 'Username already taken');\n                // Show more helpful error message\n                const errorMessage = response.error || 'This username is already in use. Please choose a different one.';\n                CustomAlert.alert('Login Failed', errorMessage);\n            }\n        } catch (error) {\n            console.error('Server connection error:', error);\n            CustomAlert.alert(\n                'Connection Error', \n                'Could not connect to the server. Please check your internet connection and try again.'\n            );\n        }\n    };\n\n    return (\n        <View style={styles.container}>\n            <Text style={styles.title}>\n                {gameId ? 'Enter Your Username to Join Game' : 'Enter Your Username'}\n            </Text>\n            {gameId && (\n                <Text style={[styles.subtitle, { color: colors.subtitleText }]}>\n                    You're joining game: {gameId}\n                </Text>\n            )}\n            <TextInput\n                style={styles.input}\n                onChangeText={setUsername}\n                value={username}\n                placeholder=\"Username\"\n                placeholderTextColor={colors.playerStatsText}\n                autoCapitalize=\"none\"\n                autoCorrect={false}\n            />\n            <View style={styles.buttonContainer}>\n                <TouchableOpacity \n                    style={styles.button}\n                    onPress={handleLogin}\n                >\n                    <Text style={styles.buttonText}>\n                        {gameId ? \"Login & Join Game\" : \"Login\"}\n                    </Text>\n                </TouchableOpacity>\n            </View>\n        </View>\n    );\n}; ","import React from 'react';\nimport { View, Text, Button, StyleSheet } from 'react-native';\nimport { SocketService } from '../services/socket.service';\nimport { useTheme } from '../theme/ThemeContext';\n\nexport const HomeScreen: React.FC<{ navigation: any }> = ({ navigation }) => {\n    const { colors, toggleTheme, themeType } = useTheme();\n\n    const socketService = SocketService.getInstance();\n    const username = socketService.getCurrentUser()?.username;\n\n    const handleCreateGame = () => {\n        console.log('Creating game');\n        navigation.navigate('GameCreation', { playerName: username });\n    };\n\n    const handleJoinGame = () => {\n        console.log('Joining game');\n        navigation.navigate('JoinGame', { playerName: username });\n    };\n\n    const handleLogout = async () => {\n        await socketService.logout();\n        console.log('Logging out');\n        navigation.replace('Login');\n    };\n\n    const styles = StyleSheet.create({\n        container: {\n            flex: 1,\n            padding: 20,\n            justifyContent: 'center',\n        },\n        welcome: {\n            fontSize: 24,\n            textAlign: 'center',\n            marginBottom: 30,\n            color: colors.welcomeText,\n        },\n        buttonContainer: {\n            gap: 10,\n        },\n    });\n    \n    return (\n        <View style={[styles.container, { backgroundColor: colors.containerBackground }]}>\n            <Text style={styles.welcome}>Welcome, {username}!</Text>\n            <View style={styles.buttonContainer}>\n                <Button \n                    title=\"Create Game\" \n                    onPress={handleCreateGame}\n                    color={colors.primaryButton}\n                />\n                <Button \n                    title=\"Join Game\" \n                    onPress={handleJoinGame}\n                    color={colors.primaryButton}\n                />\n                <Button \n                    title=\"Logout\" \n                    onPress={handleLogout} \n                    color={colors.logoutButton}\n                />\n            </View>\n        </View>\n    );\n};\n","import React from 'react';\nimport { View, Text, Button, StyleSheet, ScrollView, TouchableOpacity } from 'react-native';\nimport { useTheme } from '../theme/ThemeContext';\n\nexport interface GameManagementProps {\n    gameId: string;\n    onAddAgent: () => void;\n    onStartGame: () => void;\n    playerCount: number;\n    players: Array<{\n        id: string;\n        name: string;\n        isAgent: boolean;\n        isOwner?: boolean;\n    }>;\n    isOwner: boolean;\n    onKickPlayer: (playerId: string) => void;\n    onReorderPlayer: (playerId: string, direction: 'up' | 'down') => void;\n    gameCharacteristics: {\n        minPlayers: number;\n        maxPlayers: number;\n        playerGroupSize: number;\n        extraActions: string[];\n        gamePointsReversed: boolean;\n    };\n}\n\nexport const GameManagement: React.FC<GameManagementProps> = ({\n    gameId,\n    onAddAgent,\n    onStartGame,\n    playerCount,\n    players,\n    isOwner,\n    onKickPlayer,\n    onReorderPlayer,\n    gameCharacteristics\n}) => {\n    const { colors } = useTheme();\n    \n    const styles = StyleSheet.create({\n        container: {\n            flex: 1,\n            padding: 20,\n        },\n        subtitle: {\n            fontSize: 18,\n            fontWeight: 'bold',\n            marginBottom: 10,\n        },\n        controls: {\n            flexDirection: 'column',\n            justifyContent: 'space-around',\n            marginTop: 20,\n        },\n        playerListContainer: {\n            marginTop: 10,\n            marginBottom: 10,\n            height: 160,\n            borderWidth: 1,\n            borderColor: '#ddd',\n            borderRadius: 5,\n        },\n        playerList: {\n            flex: 1,\n        },\n        playerRow: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            paddingVertical: 8,\n            paddingHorizontal: 10,\n            borderBottomWidth: 1,\n            borderBottomColor: '#eee',\n            alignItems: 'center',\n        },\n        playerName: {\n            fontSize: 16,\n            flex: 1,\n        },\n        playerActions: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'flex-end',\n        },\n        actionButton: {\n            paddingHorizontal: 2,\n        },\n        kickButton: {\n            color: 'red',\n            fontSize: 18,\n            fontWeight: 'bold',\n        },\n        moveButton: {\n            fontSize: 18,\n            fontWeight: 'bold',\n            width: 18,\n            textAlign: 'center',\n        },\n        upButton: {\n            color: 'green',\n        },\n        downButton: {\n            color: 'blue',\n        },\n        buttonSpacer: {\n            marginTop: 10,\n        }\n    });\n\n    const hasCorrectNumberOfPlayers = playerCount >= (gameCharacteristics?.minPlayers || 2) && \n                                      playerCount <= (gameCharacteristics?.maxPlayers || Infinity) && \n                                      (playerCount % (gameCharacteristics?.playerGroupSize || 1) === 0);\n    \n    return (\n        <View style={styles.container}>\n            <Text style={[styles.subtitle, { color: colors.titleText }]}>Game Setup</Text>\n            <Text style={{ color: colors.statusText }}>Players: {playerCount} (Min: {gameCharacteristics?.minPlayers || 2})</Text>\n            \n            <View style={styles.playerListContainer}>\n                <ScrollView style={styles.playerList}>\n                    {players.map((player, index) => (\n                        <View key={player.id} style={styles.playerRow}>\n                            <Text style={[styles.playerName, { color: colors.statusText }]}>\n                                {player.name} {player.isAgent ? '(AI)' : ''} {player.isOwner ? '(Owner)' : ''}\n                            </Text>\n                            {isOwner && !player.isOwner && (\n                                <View style={styles.playerActions}>\n                                    <TouchableOpacity\n                                        onPress={() => onReorderPlayer(player.id, 'up')}\n                                        style={styles.actionButton}\n                                    >\n                                        <Text style={[styles.moveButton, styles.upButton]}></Text>\n                                    </TouchableOpacity>\n                                    <TouchableOpacity\n                                        onPress={() => onReorderPlayer(player.id, 'down')}\n                                        style={styles.actionButton}\n                                    >\n                                        <Text style={[styles.moveButton, styles.downButton]}></Text>\n                                    </TouchableOpacity>\n                                    <TouchableOpacity \n                                        onPress={() => onKickPlayer(player.id)}\n                                        style={styles.actionButton}\n                                    >\n                                        <Text style={styles.kickButton}></Text>\n                                    </TouchableOpacity>\n                                </View>\n                            )}\n                        </View>\n                    ))}\n                </ScrollView>\n            </View>\n            \n            <View style={styles.controls}>\n                {isOwner && (\n                    <>\n                        <Button title=\"Add AI Player\" onPress={onAddAgent} />\n                        {hasCorrectNumberOfPlayers && (\n                            <View style={styles.buttonSpacer}>\n                                <Button title=\"Start Game\" onPress={onStartGame} />\n                            </View>\n                        )}\n                    </>\n                )}\n            </View>\n        </View>\n    );\n};","import React from 'react';\nimport { TouchableOpacity, Text, StyleSheet, Platform } from 'react-native';\nimport { Card } from '../shared/types/game-state';\nimport { useTheme } from '../theme/ThemeContext';\n\nif (Platform.OS === 'web') {\n    require('./Card.web.css');\n}\n\ninterface CardProps {\n    card: Card;\n    onPress?: () => void;\n    disabled?: boolean;\n}\n\nexport const CardRender: React.FC<CardProps> = ({ card, onPress, disabled }) => {\n    const suitSymbols = {\n        hearts: '',\n        diamonds: '',\n        clubs: '',\n        spades: ''\n    };\n\n    const { colors } = useTheme();\n\n    const styles = StyleSheet.create({\n        card: {\n            width: 60,\n            height: 90,\n            backgroundColor: colors.cardBackground,\n            borderRadius: 8,\n            borderWidth: 1,\n            borderColor: colors.cardBorder,\n            padding: 5,\n            margin: 2,\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        disabled: {\n            opacity: 0.5,\n        },\n        value: {\n            fontSize: 24,\n            color: colors.cardTextBlack,\n        },\n        suit: {\n            fontSize: 32,\n            color: colors.cardTextBlack,\n        },\n        redText: {\n            color: colors.cardTextRed,\n        },\n    });\n\n    const valueMap: { [key: number]: string } = {\n        11: 'J',\n        12: 'Q',\n        13: 'K',\n        14: 'A'\n    };\n\n    const isRed = card.suit === 'hearts' || card.suit === 'diamonds';\n\n    return (\n        <TouchableOpacity\n            style={[styles.card, disabled && styles.disabled]}\n            // @ts-ignore\n            className={Platform.OS === 'web' ? 'card-hover' : undefined}\n            onPress={onPress}\n            disabled={disabled}\n            // @ts-ignore\n            {...(Platform.OS === 'web' && {\n                style: [\n                    styles.card,\n                    disabled && styles.disabled,\n                    { cursor: 'pointer' }\n                ]\n            })}\n        >\n            <Text style={[styles.value, isRed && styles.redText]}>\n                {valueMap[card.value] || card.value}\n            </Text>\n            <Text style={[styles.suit, isRed && styles.redText]}>\n                {suitSymbols[card.suit]}\n            </Text>\n        </TouchableOpacity>\n    );\n};\n","import React from 'react';\nimport { View, Button, Text, ScrollView, StyleSheet, ViewStyle, Dimensions } from 'react-native';\nimport { CardRender } from './Card';\nimport { GameBroadcastState } from '../shared/types/game-state';\nimport { Card } from '../shared/types/game-state';\nimport { useTheme } from '../theme/ThemeContext';\n\ninterface GamePlayProps {\n    gameState: GameBroadcastState;\n    playerName: string;\n    playerId: string;\n    onPlayCard: (index: number) => void;\n    onExtraAction: (actionType: string, actionData: any) => void;\n}\n\n// Game design properties to control layout\ninterface GameDesignProps {\n    TABLE_SIZE: number;                  // Size of the table in px\n    TABLE_MEMBERS_EXPANSION_FACTOR: number; // Expansion factor for spacing elements\n    CARD_RADIUS_FACTOR: number;          // Position factor for cards from center\n    PLAYER_RADIUS_FACTOR: number;        // Position factor for players from center  \n    MIN_GAME_AREA_HEIGHT: number;        // Minimum height for game area\n    CARD_SIZE: {width: number, height: number}; // Size of cards\n    PLAYER_INFO_MIN_WIDTH: number;       // Minimum width for player info boxes\n}\n\n// Default design properties\nconst defaultDesignProps: GameDesignProps = {\n    TABLE_SIZE: 280,\n    TABLE_MEMBERS_EXPANSION_FACTOR: 2.5, // 200% expansion as requested\n    CARD_RADIUS_FACTOR: 0.5,           // Cards at 25% of table radius\n    PLAYER_RADIUS_FACTOR: 0.5,          // Players at 70% of table radius * expansion factor\n    MIN_GAME_AREA_HEIGHT: 350,\n    CARD_SIZE: {width: 60, height: 85},\n    PLAYER_INFO_MIN_WIDTH: 80\n};\n\nexport const GamePlay: React.FC<GamePlayProps> = ({\n    gameState,\n    playerName,\n    playerId,\n    onPlayCard,\n    onExtraAction\n}) => {\n    const { colors } = useTheme();\n    \n    const styles = StyleSheet.create({\n        container: {\n            flex: 1,\n            position: 'relative',\n            padding: 10,\n            width: '100%',\n            alignSelf: 'center',\n            display: 'flex',\n            flexDirection: 'column',\n        },\n        headerRow: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 10,\n        },\n        status: {\n            fontSize: 16,\n            flex: 1,\n            color: colors.statusText,\n        },\n        subtitle: {\n            fontSize: 18,\n            fontWeight: 'bold',\n            marginBottom: 5,\n            color: colors.subtitleText,\n        },\n        trickContainer: {\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 1,\n        },\n        trickTable: {\n            position: 'relative',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        tableBackground: {\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            borderRadius: 1000,\n            backgroundColor: colors.tableFelt,\n            borderWidth: 4,\n            borderColor: colors.tableEdge,\n        },\n        cardPositioner: {\n            position: 'absolute',\n            width: 0,\n            height: 0,\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        trickCardContainer: {\n            position: 'absolute',\n            alignItems: 'center',\n        },\n        handContainer: {\n            width: '100%',\n            marginTop: 5,\n            marginBottom: 10,\n            flexShrink: 0,\n        },\n        handWrapper: {\n            width: '100%',\n            height: 100,  // Fixed height\n        },\n        handContent: {\n            alignItems: 'center',\n            paddingHorizontal: 5,\n        },\n        hand: {\n            flexGrow: 0,\n        },\n        extraActionContainer: {\n            marginTop: 10,\n            marginBottom: 10,\n        },\n        gameArea: {\n            flex: 1,\n            position: 'relative',\n            marginVertical: 10,\n        },\n        playAreaContainer: {\n            width: '100%',\n            height: '100%',\n            position: 'relative',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        playerTable: {\n            position: 'absolute',\n            width: 0,  // Set to 0 to ensure proper centering\n            height: 0,  // Set to 0 to ensure proper centering\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 2,\n        },\n        playerInfo: {\n            position: 'absolute',\n            alignItems: 'center',\n            backgroundColor: colors.playerInfoBackground,\n            padding: 8,\n            borderRadius: 8,\n            minWidth: 80,\n            borderWidth: 1,\n            borderColor: colors.playerInfoBorder,\n        },\n        winningPlayerInfo: {\n            backgroundColor: colors.winningPlayerBackground || '#4a9eff30', // fallback color if theme doesn't define it\n            borderColor: colors.winningPlayerBorder || '#4a9eff',\n        },\n        playerNameFixed: {\n            fontSize: 12, // Smaller font\n            fontWeight: 'bold',\n            marginBottom: 2,\n        },\n        currentPlayerName: {\n            color: colors.currentPlayerText,\n            fontWeight: 'bold',\n        },\n        playerStats: {\n            fontSize: 10, // Smaller font\n            color: colors.playerStatsText,\n        },\n        trumpInfo: {\n            position: 'absolute',\n            top: 5,\n            right: 5,\n            alignItems: 'center',\n            backgroundColor: colors.trumpInfoBackground,\n            padding: 5, // Reduced padding\n            borderRadius: 6,\n            borderWidth: 1,\n            borderColor: colors.trumpInfoBorder,\n            zIndex: 10,\n        },\n        trumpTitle: {\n            fontSize: 14,\n            fontWeight: 'bold',\n            marginBottom: 4,\n        },\n        trumpHolder: {\n            fontSize: 12,\n            color: colors.playerStatsText,\n            marginTop: 4,\n        },\n        teamScoreContainer: {\n            flexDirection: 'row',\n            justifyContent: 'flex-end',\n            gap: 5, // Reduced gap\n        },\n        teamScoreCard: {\n            backgroundColor: colors.teamScoreCardBackground,\n            borderRadius: 4,\n            paddingVertical: 3,\n            paddingHorizontal: 6,\n            minWidth: 50,\n            alignItems: 'center',\n            borderWidth: 1,\n            borderColor: colors.teamScoreCardBorder,\n        },\n        playerTeamCard: {\n            backgroundColor: colors.playerTeamBackground,\n            borderColor: colors.playerTeamBorder,\n        },\n        teamName: {\n            fontSize: 12,\n            fontWeight: '500',\n            textAlign: 'center',\n        },\n        teamScore: {\n            fontSize: 14,\n            fontWeight: 'bold',\n            color: colors.teamScoreText,\n        },\n        playerTeamScore: {\n            color: colors.playerTeamScoreText,\n        },\n    });\n\n    const currentPlayerIndex = gameState.public.currentPlayerIndex;\n    const currentPlayerId = gameState.public.players[currentPlayerIndex].id;\n    const isCurrentPlayer = currentPlayerId === playerId;\n    const isResolvingTrick = gameState.public.gameSpecificData?.isResolvingTrick;\n    const isResolvingTurnEnd = gameState.public.isResolvingTurnEnd;\n    const isResolvingGameEnd = gameState.public.isResolvingGameEnd;\n    const hand = gameState.private?.hand || [];\n    const currentTrick = gameState.public.gameSpecificData?.currentTrick || [];\n    const scores = gameState.public.gameSpecificData?.scores || [];\n    const canToggle = gameState.public.gameSpecificData?.canToggle;\n    const trumpCard = gameState.public.gameSpecificData?.trumpCard;\n    const trumpHolder = gameState.public.gameSpecificData?.trumpHolder;\n    const teams = gameState.public.gameSpecificData?.teams || [];\n    const gamePoints = gameState.public.gameSpecificData?.gamePoints || [];\n    \n    // Find which team the player belongs to\n    const playerTeamIndex = teams.findIndex((team: string[]) => team.includes(playerId));\n\n    // Near the top of your component, after the props destructuring\n    const windowWidth = Dimensions.get('window').width;\n    const windowHeight = Dimensions.get('window').height;\n    const responsiveStyles = getResponsiveStyles(windowWidth, windowHeight);\n    \n    // Use the design props, can be adjusted dynamically if needed\n    const designProps = defaultDesignProps;\n\n    // Render cards in hand\n    const renderHand = () => (\n        <View style={styles.handWrapper}>\n            <ScrollView horizontal contentContainerStyle={styles.handContent}>\n                {hand.map((card: any, index: number) => (\n                    <CardRender\n                        key={index}\n                        card={card}\n                        onPress={() => isCurrentPlayer && onPlayCard(index)}\n                    />\n                ))}\n            </ScrollView>\n        </View>\n    );\n\n    // Render current trick\n    const renderCurrentTrick = () => {\n        const myPlayerIndex = gameState.public.players.findIndex(p => p.id === playerId);\n        const numPlayers = gameState.public.players.length;\n        \n        // Calculate card radius based on design props\n        const tableRadius = designProps.TABLE_SIZE / 2;\n        const CARD_RADIUS = tableRadius * designProps.CARD_RADIUS_FACTOR;\n\n        const getCardPosition = (playerIndex: number): ViewStyle => {\n            const relativePos = (playerIndex - myPlayerIndex + numPlayers) % numPlayers;\n            const angle = -Math.PI/2 - (relativePos * 2 * Math.PI / numPlayers);\n            // The minus is a hack\n            const x = - CARD_RADIUS * Math.cos(angle);\n            const y = - CARD_RADIUS * Math.sin(angle);\n\n            return {\n                position: 'absolute',\n                transform: [\n                    { translateX: x },\n                    { translateY: y },\n                    { rotate: `${angle + Math.PI/2}rad` }\n                ] as any[]\n            };\n        };\n\n        return (\n            <View style={styles.trickContainer}>\n                <View style={[styles.trickTable, {\n                    width: designProps.TABLE_SIZE, \n                    height: designProps.TABLE_SIZE\n                }]}>\n                    <View style={styles.tableBackground} />                    \n                    <View style={styles.cardPositioner}>\n                        {/* Render cards if they exist */}\n                        {currentTrick?.map(({playerId: cardPlayerId, card}: {playerId: string, card: Card}) => {\n                            const playerIndex = gameState.public.players.findIndex(p => p.id === cardPlayerId);\n                            return (\n                                <View \n                                    key={cardPlayerId} \n                                    style={[\n                                        styles.trickCardContainer, \n                                        getCardPosition(playerIndex),\n                                        {\n                                            width: designProps.CARD_SIZE.width, \n                                            height: designProps.CARD_SIZE.height\n                                        }\n                                    ]}\n                                >\n                                    <CardRender card={card} />\n                                </View>\n                            );\n                        })}\n                    </View>\n                </View>\n            </View>\n        );\n    };\n\n    // Render players\n    const renderPlayers = () => {\n        const myPlayerIndex = gameState.public.players.findIndex(p => p.id === playerId);\n        const numPlayers = gameState.public.players.length;\n        \n        // Calculate player radius based on design props\n        const tableRadius = designProps.TABLE_SIZE / 2;\n        const PLAYER_RADIUS = tableRadius * designProps.PLAYER_RADIUS_FACTOR * \n                             designProps.TABLE_MEMBERS_EXPANSION_FACTOR;\n\n        // Add this function to determine winning teams\n        const getWinningTeams = () => {\n            if (!isResolvingTurnEnd || !teams || !scores) return [];\n            \n            // Calculate team scores for this turn\n            const teamScores = teams.map((team: string[]) => {\n                return team.reduce((sum: number, playerId: string) => {\n                    const playerScore = scores.find((s: {playerId: string, score: number}) => s.playerId === playerId)?.score || 0;\n                    return sum + playerScore;\n                }, 0);\n            });\n\n            // Find highest score\n            const maxScore = Math.max(...teamScores);\n            \n            // Return indices of teams with the highest score\n            return teamScores\n                .map((score: number, index: number) => score === maxScore ? index : -1)\n                .filter((index: number) => index !== -1);\n        };\n\n        const winningTeams = getWinningTeams();\n\n        const getPlayerPosition = (playerIndex: number): ViewStyle => {\n            const relativePos = (playerIndex - myPlayerIndex + numPlayers) % numPlayers;\n            const angle = -Math.PI/2 - (relativePos * 2 * Math.PI / numPlayers);\n            const x = - PLAYER_RADIUS * Math.cos(angle);\n            const y = - PLAYER_RADIUS * Math.sin(angle);\n\n            return {\n                position: 'absolute',\n                transform: [\n                    { translateX: x },\n                    { translateY: y }\n                ] as any[]\n            };\n        };\n\n        return (\n            <View style={styles.playerTable}>\n                {gameState.public.players.map((player, index) => {\n                    const playerScore = gameState.public.gameSpecificData?.scores?.find(\n                        (score: {playerId: string, score: number}) => score.playerId === player.id\n                    )?.score || 0;\n\n                    // Find which team this player belongs to\n                    const playerTeamIndex = teams.findIndex((team: string[]) => \n                        team.includes(player.id)\n                    );\n\n                    // Check if player is on a winning team\n                    const isWinningPlayer = winningTeams.includes(playerTeamIndex);\n\n                    return (\n                        <View \n                            key={player.id}\n                            style={[\n                                styles.playerInfo, \n                                getPlayerPosition(index),\n                                { minWidth: designProps.PLAYER_INFO_MIN_WIDTH },\n                                isWinningPlayer && isResolvingTurnEnd && styles.winningPlayerInfo\n                            ]}\n                        >\n                            <Text style={[\n                                styles.playerNameFixed,\n                                player.id === playerId && styles.currentPlayerName\n                            ]}>\n                                {player.name}\n                            </Text>\n                            {(isResolvingTurnEnd || gameState.public.isResolvingGameEnd) && (\n                                <Text style={styles.playerStats}>\n                                    Points: {playerScore}\n                                </Text>\n                            )}\n                        </View>\n                    );\n                })}\n            </View>\n        );\n    };\n\n    // Render extra action button if available\n    const renderExtraAction = () => {\n        if (!isCurrentPlayer || !canToggle || !onExtraAction) return null;\n        return (\n            <View style={styles.extraActionContainer}>\n                <Button\n                    title={`Toggle ${gameState.public.gameSpecificData?.isHighWins ? 'High' : 'Low'} Wins`}\n                    onPress={() => onExtraAction('TOGGLE_WIN_CONDITION', {})}\n                />\n            </View>\n        );\n    };\n\n    // Add new function to render trump info\n    const renderTrumpInfo = () => {\n        if (!trumpCard || !trumpHolder) return null;\n        \n        const trumpHolderName = gameState.public.players.find(p => p.id === trumpHolder)?.name;\n        \n        return (\n            <View style={styles.trumpInfo}>\n                <Text style={styles.trumpTitle}>Trump Card:</Text>\n                <CardRender card={trumpCard} />\n                <Text style={styles.trumpHolder}>Held by: {trumpHolderName}</Text>\n            </View>\n        );\n    };\n\n    // Render team scores more discreetly\n    const renderTeamScores = () => {\n        if (!teams || teams.length === 0 || !gamePoints) return null;\n        \n        return (\n            <View style={styles.teamScoreContainer}>\n                {teams.map((team: string[], index: number) => {\n                    const teamScore = gamePoints[index] || 0;\n                    const isPlayerTeam = index === playerTeamIndex;\n                    \n                    return (\n                        <View \n                            key={`team-${index}`} \n                            style={[\n                                styles.teamScoreCard, \n                                isPlayerTeam && styles.playerTeamCard\n                            ]}\n                        >\n                            <Text style={styles.teamName}>\n                                Team {index + 1}\n                                {isPlayerTeam ? ' ' : ''}\n                            </Text>\n                            <Text style={[\n                                styles.teamScore,\n                                isPlayerTeam && styles.playerTeamScore\n                            ]}>\n                                {teamScore}\n                            </Text>\n                        </View>\n                    );\n                })}\n            </View>\n        );\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.headerRow}>\n                <Text style={styles.status}>\n                    {(() => {\n                        if (isResolvingGameEnd) {\n                            return \"Game ending...\";\n                        } else if (isResolvingTurnEnd) {\n                            return \"Round ending...\";\n                        } else if (isResolvingTrick) {\n                            return \"Resolving trick...\";\n                        } else if (isCurrentPlayer) {\n                            return \"Your turn!\";\n                        } else {\n                            return `Waiting for ${gameState.public.players[currentPlayerIndex].name}`;\n                        }\n                    })()}\n                </Text>\n                {renderTeamScores()}\n            </View>\n            <View style={[\n                styles.gameArea, \n                responsiveStyles.gameArea,\n                { minHeight: designProps.MIN_GAME_AREA_HEIGHT }\n            ]}>\n                <View style={styles.playAreaContainer}>\n                    {renderTrumpInfo()}\n                    {renderCurrentTrick()}\n                    {renderPlayers()}\n                </View>\n            </View>\n            <View style={styles.handContainer}>\n                <Text style={styles.subtitle}>Your Hand:</Text>\n                {renderHand()}\n                {renderExtraAction()}\n            </View>\n        </View>\n    );\n};\n\n// getResponsiveStyles stays outside\nconst getResponsiveStyles = (width: number, height: number) => ({\n    gameArea: {\n        maxHeight: height * 0.6,\n    },\n    playerTable: width <= 768 ? {\n        maxWidth: 350,\n        maxHeight: 350,\n    } : {\n        maxWidth: 450,\n        maxHeight: 450,\n    }\n}); ","import React from 'react';\nimport { View, Text, StyleSheet, ScrollView } from 'react-native';\nimport { useTheme } from '../theme/ThemeContext';\n\ninterface GameEndProps {\n    teams: Array<string[]>;\n    gamePoints: Array<number>;\n    playerId: string;\n    players: Array<{\n        id: string;\n        name: string;\n        isAgent: boolean;\n    }>;\n    gamePointsReversed: boolean;\n}\n\nexport const GameEnd: React.FC<GameEndProps> = ({\n    teams,\n    gamePoints,\n    playerId,\n    players,\n    gamePointsReversed\n}) => {\n    const { colors } = useTheme();\n    \n    const styles = StyleSheet.create({\n        container: {\n            flex: 1,\n            padding: 20,\n        },\n        title: {\n            fontSize: 24,\n            fontWeight: 'bold',\n            textAlign: 'center',\n            marginBottom: 10,\n        },\n        subtitle: {\n            fontSize: 18,\n            textAlign: 'center',\n            marginBottom: 20,\n        },\n        scoreList: {\n            flex: 1,\n        },\n        teamRow: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            padding: 15,\n            backgroundColor: colors.teamScoreCardBackground,\n            borderRadius: 8,\n            marginBottom: 10,\n            borderWidth: 1,\n            borderColor: colors.teamScoreCardBorder,\n        },\n        playerTeamRow: {\n            backgroundColor: colors.playerTeamBackground,\n            borderColor: colors.playerTeamBorder,\n        },\n        winnerRow: {\n            borderWidth: 2,\n            borderColor: 'gold',\n        },\n        rankAndTeam: {\n            flexDirection: 'row',\n            flex: 1,\n            alignItems: 'flex-start',\n        },\n        rank: {\n            fontSize: 18,\n            fontWeight: 'bold',\n            marginRight: 10,\n            width: 25,\n        },\n        teamMembers: {\n            flex: 1,\n        },\n        teamTitle: {\n            fontSize: 16,\n            fontWeight: 'bold',\n            marginBottom: 5,\n        },\n        playerName: {\n            fontSize: 14,\n            marginLeft: 10,\n            color: colors.statusText,\n        },\n        currentPlayerName: {\n            fontWeight: 'bold',\n            color: colors.currentPlayerText,\n        },\n        playerTeamText: {\n            color: colors.playerTeamScoreText,\n        },\n        points: {\n            fontSize: 18,\n            fontWeight: 'bold',\n            color: colors.teamScoreText,\n        },\n    });\n\n    // Find which team the player belongs to\n    const playerTeamIndex = teams.findIndex(team => team.includes(playerId));\n    \n    // Combine teams and points for sorting\n    const teamsWithPoints = teams.map((team, index) => ({\n        teamIndex: index,\n        teamMembers: team,\n        points: gamePoints[index] || 0,\n        isPlayerTeam: index === playerTeamIndex\n    }));\n    \n    // Sort teams by points (higher points first, unless reversed)\n    const sortedTeams = [...teamsWithPoints].sort((a, b) => {\n        if (gamePointsReversed) {\n            return a.points - b.points; // Lower points win if reversed\n        }\n        return b.points - a.points; // Higher points win normally\n    });\n\n    return (\n        <View style={styles.container}>\n            <Text style={[styles.title, { color: colors.titleText }]}>Game Finished</Text>\n            <Text style={[styles.subtitle, { color: colors.subtitleText }]}>Final Scores</Text>\n            \n            <ScrollView style={styles.scoreList}>\n                {sortedTeams.map((team, index) => {\n                    const isWinner = index === 0;\n                    return (\n                        <View \n                            key={`team-${team.teamIndex}`} \n                            style={[\n                                styles.teamRow, \n                                team.isPlayerTeam && styles.playerTeamRow,\n                                isWinner && styles.winnerRow\n                            ]}\n                        >\n                            <View style={styles.rankAndTeam}>\n                                <Text style={[\n                                    styles.rank, \n                                    team.isPlayerTeam && styles.playerTeamText\n                                ]}>\n                                    {index + 1}.\n                                </Text>\n                                <View style={styles.teamMembers}>\n                                    <Text style={[\n                                        styles.teamTitle, \n                                        team.isPlayerTeam && styles.playerTeamText\n                                    ]}>\n                                        Team {team.teamIndex + 1} {team.isPlayerTeam && '(Your Team)'}\n                                        {isWinner && ' '}\n                                    </Text>\n                                    {team.teamMembers.map(memberId => {\n                                        const player = players.find(p => p.id === memberId);\n                                        return (\n                                            <Text \n                                                key={memberId} \n                                                style={[\n                                                    styles.playerName,\n                                                    memberId === playerId && styles.currentPlayerName,\n                                                    team.isPlayerTeam && styles.playerTeamText\n                                                ]}\n                                            >\n                                                {player?.name || 'Unknown'} {memberId === playerId && '(You)'}\n                                                {player?.isAgent && ' (AI)'}\n                                            </Text>\n                                        );\n                                    })}\n                                </View>\n                            </View>\n                            <Text style={[\n                                styles.points, \n                                team.isPlayerTeam && styles.playerTeamText\n                            ]}>\n                                {team.points} pts\n                            </Text>\n                        </View>\n                    );\n                })}\n            </ScrollView>\n        </View>\n    );\n}; ","export type AvailableGames = 'SUECA'\n\nexport interface Card {\n    suit: 'hearts' | 'diamonds' | 'clubs' | 'spades';\n    value: number;  // 2-14 (14 being Ace)\n}\n\nexport interface PublicGameState {\n    id: string;\n    players: Array<{\n        id: string;\n        name: string;\n        isAgent: boolean;\n    }>;\n    currentPlayerIndex: number;\n    phase: GamePhase;\n    owner?: string;\n    gameSpecificData: any;\n    isResolvingTrick: boolean;\n    isResolvingTurnEnd: boolean;\n    isResolvingGameEnd: boolean;\n    gameCharacteristics: GameCharacteristics;\n}\n\nexport interface PrivatePlayerState {\n    hand: Card[];\n    gameSpecificData?: any;\n}\n\nexport interface GameCharacteristics {\n    minPlayers: number;\n    maxPlayers: number;\n    playerGroupSize: number;\n    extraActions: string[];\n    gamePointsReversed: boolean;\n}\n\nexport interface GameBroadcastState {\n    public: PublicGameState;\n    private?: PrivatePlayerState;\n}\n\n// Base interface for game-specific data\nexport interface BaseGameSpecificData {\n    currentTrick?: Array<{playerId: string; card: Card}>;\n    scores?: Array<{playerId: string; score: number}>;\n    gamePoints?: Array<number>;\n    teams?: Array<string[]>;\n}\n\n// Game-specific data interfaces\nexport interface HighLowGameData extends BaseGameSpecificData {\n    isHighWins: boolean;\n    canToggle: boolean;\n}\n\nexport enum GamePhase {\n    WAITING = 'WAITING',\n    PLAYING = 'PLAYING',\n    FINISHED = 'FINISHED'\n}\n\nexport interface GameAction {\n    type: 'PLAY_CARD' | 'JOIN_GAME' | 'START_GAME';\n    playerId?: string;\n    cardIndex?: number;\n    gameId?: string;\n}\n","import React from 'react';\nimport { View, Text, Modal, TouchableOpacity, StyleSheet } from 'react-native';\nimport { useTheme } from '../theme/ThemeContext';\ninterface ConfirmDialogProps {\n    visible: boolean;\n    title: string;\n    message: string;\n    onConfirm: () => void;\n    onCancel: () => void;\n}\n\nexport const ConfirmDialog: React.FC<ConfirmDialogProps> = ({\n    visible,\n    title,\n    message,\n    onConfirm,\n    onCancel\n}) => {\n    const { colors } = useTheme();\n\n    const styles = StyleSheet.create({\n        overlay: {\n            flex: 1,\n            backgroundColor: colors.dialogOverlay,\n            justifyContent: 'center',\n            alignItems: 'center',\n        },\n        dialog: {\n            backgroundColor: colors.dialogBackground,\n            borderRadius: 10,\n            padding: 20,\n            width: '80%',\n            maxWidth: 400,\n        },\n        title: {\n            fontSize: 18,\n            fontWeight: 'bold',\n            marginBottom: 10,\n            textAlign: 'center',\n        },\n        message: {\n            fontSize: 16,\n            marginBottom: 20,\n            textAlign: 'center',\n        },\n        buttonContainer: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n        },\n        button: {\n            flex: 1,\n            padding: 10,\n            borderRadius: 5,\n            marginHorizontal: 5,\n        },\n        cancelButton: {\n            backgroundColor: colors.dialogCancelButton,\n        },\n        confirmButton: {\n            backgroundColor: colors.dialogConfirmButton,\n        },\n        buttonText: {\n            color: colors.dialogButtonText,\n            textAlign: 'center',\n            fontSize: 16,\n        },\n    });\n\n    return (\n        <Modal\n            transparent\n            visible={visible}\n            animationType=\"fade\"\n            onRequestClose={onCancel}\n        >\n            <View style={styles.overlay}>\n                <View style={styles.dialog}>\n                    <Text style={styles.title}>{title}</Text>\n                    <Text style={styles.message}>{message}</Text>\n                    <View style={styles.buttonContainer}>\n                        <TouchableOpacity \n                            style={[styles.button, styles.cancelButton]} \n                            onPress={onCancel}\n                        >\n                            <Text style={styles.buttonText}>Cancel</Text>\n                        </TouchableOpacity>\n                        <TouchableOpacity \n                            style={[styles.button, styles.confirmButton]} \n                            onPress={onConfirm}\n                        >\n                            <Text style={styles.buttonText}>Leave Game</Text>\n                        </TouchableOpacity>\n                    </View>\n                </View>\n            </View>\n        </Modal>\n    );\n};\n","import React, { useState } from 'react';\nimport { TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport { ConfirmDialog } from './ConfirmDialog';\nimport { SocketService } from '../services/socket.service';\nimport { useNavigation } from '@react-navigation/native';\nimport { useTheme } from '../theme/ThemeContext';\n\ninterface LeaveGameButtonProps {\n    gameId: string;\n    style?: any;\n}\n\nexport const LeaveGameButton: React.FC<LeaveGameButtonProps> = ({ gameId, style }) => {\n    const [showConfirm, setShowConfirm] = useState(false);\n    const navigation = useNavigation();\n    const socketService = SocketService.getInstance();\n    const { colors } = useTheme();\n\n    const styles = StyleSheet.create({\n        leaveButton: {\n            backgroundColor: colors.leaveButtonBackground,\n            padding: 10,\n            borderRadius: 5,\n            position: 'absolute',\n            top: 10,\n            right: 10,\n        },\n        leaveButtonText: {\n            color: colors.leaveButtonText,\n            fontSize: 16,\n            fontWeight: 'bold',\n        },\n    }); \n\n    const handleLeaveGame = async () => {\n        try {\n            const response = await socketService.leaveGame(gameId);\n            if (response.success) {\n                navigation.reset({\n                    index: 0,\n                    routes: [{ name: 'Home' as never }],\n                });\n            } else {\n                console.error('Failed to leave game');\n            }\n        } catch (error) {\n            console.error('Error leaving game:', error);\n        }\n        setShowConfirm(false);\n    };\n\n    return (\n        <>\n            <TouchableOpacity \n                style={[styles.leaveButton, style]} \n                onPress={() => setShowConfirm(true)}\n            >\n                <Text style={styles.leaveButtonText}>Leave Game</Text>\n            </TouchableOpacity>\n\n            <ConfirmDialog\n                visible={showConfirm}\n                title=\"Leave Game\"\n                message=\"Are you sure you want to leave this game? This action cannot be undone.\"\n                onConfirm={handleLeaveGame}\n                onCancel={() => setShowConfirm(false)}\n            />\n        </>\n    );\n};\n","import React from 'react';\nimport { TouchableOpacity, Text, StyleSheet, Share, Platform } from 'react-native';\nimport { useTheme } from '../theme/ThemeContext';\nimport { CustomAlert } from '../utils/alert';\n\ninterface ShareGameLinkProps {\n    gameId: string;\n    style?: any;\n    isOwner: boolean;\n}\n\nexport const ShareGameLink: React.FC<ShareGameLinkProps> = ({ gameId, style, isOwner }) => {\n    const { colors } = useTheme();\n    \n    const styles = StyleSheet.create({\n        shareButton: {\n            backgroundColor: colors.shareButtonBackground,\n            padding: 10,\n            borderRadius: 5,\n            // No absolute positioning here, will be positioned by parent\n        },\n        shareButtonText: {\n            color: colors.shareButtonText,\n            fontSize: 16,\n            fontWeight: 'bold',\n        },\n    }); \n\n    // If not the owner, don't render the button\n    if (!isOwner) return null;\n\n    const handleShare = async () => {\n        // Create deep link for the game\n        const gameDeepLink = `cardgame://game/${gameId}`;\n        \n        // For web, create a URL - with special handling for GitHub Pages\n        let webUrl;\n        if (Platform.OS === 'web') {\n            // Get the current pathname\n            const pathname = window.location.pathname;\n            \n            // Extract the base path\n            const basePath = pathname.endsWith('/') \n                ? pathname \n                : pathname.substring(0, pathname.lastIndexOf('/') + 1);\n            \n            // Check if we're on GitHub Pages by looking for github.io in the hostname\n            const isGitHubPages = window.location.hostname.includes('github.io');\n            \n            if (isGitHubPages) {\n                // For GitHub Pages, use query parameters\n                webUrl = `${window.location.origin}${basePath}?gameId=${gameId}`;\n            } else {\n                // For all other web hosts, use the path-based approach\n                webUrl = `${window.location.origin}${basePath}game/${gameId}`;\n            }\n            \n            console.log('Generated share URL:', webUrl);\n        }\n        \n        const url = Platform.OS === 'web' ? webUrl : gameDeepLink;\n        \n        try {\n            if (Platform.OS === 'web') {\n                // On web, use clipboard API\n                navigator.clipboard.writeText(url || '')\n                    .then(() => {\n                        CustomAlert.alert('Success', 'Game link copied to clipboard! Share it with your friends.');\n                    })\n                    .catch(() => {\n                        CustomAlert.alert('Error', 'Failed to copy the game link.');\n                    });\n            } else {\n                // On native, use Share API\n                const result = await Share.share({\n                    message: `Join my card game! ${url}`,\n                    url: url,\n                    title: 'Join my card game'\n                });\n                \n                if (result.action === Share.sharedAction) {\n                    if (result.activityType) {\n                        console.log(`Shared via ${result.activityType}`);\n                    } else {\n                        console.log('Shared successfully');\n                    }\n                } else if (result.action === Share.dismissedAction) {\n                    console.log('Share dismissed');\n                }\n            }\n        } catch (error) {\n            console.error('Error sharing:', error);\n            CustomAlert.alert('Error', 'Could not share the game link');\n        }\n    };\n\n    return (\n        <TouchableOpacity \n            style={[styles.shareButton, style]} \n            onPress={handleShare}\n        >\n            <Text style={styles.shareButtonText}>Share Game Link</Text>\n        </TouchableOpacity>\n    );\n};\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { View, Text, Button, ScrollView, StyleSheet, BackHandler, AppState } from 'react-native';\nimport { SocketService } from '../services/socket.service';\nimport { GameScreenState } from '../types/game-ui';\nimport { GameManagement } from '../components/GameManagement';\nimport { GamePlay } from '../components/GamePlay';\nimport { GameEnd } from '../components/GameEnd';\nimport { GameBroadcastState, GamePhase } from '../shared/types/game-state';\nimport { LeaveGameButton } from '../components/LeaveGameButton';\nimport { useTheme } from '../theme/ThemeContext';\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\nimport { BroadcastTypes } from '../shared/types/actions';\nimport { ConfirmDialog } from '../components/ConfirmDialog';\nimport { ShareGameLink } from '../components/ShareGameLink';\nimport { CustomAlert } from '../utils/alert';\n\ninterface GameScreenProps {\n    route: any;\n}\n\nexport const GameScreen: React.FC<GameScreenProps> = ({ route }) => {\n    const { gameId, playerName } = route.params;\n    const [gameState, setGameState] = useState<GameBroadcastState | null>(null);\n    const [screenState, setScreenState] = useState<GameScreenState>({\n        mode: 'management',\n        isCurrentPlayer: false\n    });\n    const [showLeaveConfirm, setShowLeaveConfirm] = useState(false);\n    const [appState, setAppState] = useState(AppState.currentState);\n    const socketService = SocketService.getInstance();\n    const { colors } = useTheme();\n    const navigation = useNavigation();\n\n    console.log('GameScreen mounted with gameId:', gameId, 'and playerName:', playerName);\n\n    // Handle hardware back button (Android)\n    useFocusEffect(\n        useCallback(() => {\n            const onBackPress = () => {\n                // Show leave game confirmation\n                setShowLeaveConfirm(true);\n                return true; // Prevent default back behavior\n            };\n\n            BackHandler.addEventListener('hardwareBackPress', onBackPress);\n            \n            // Set up navigation options for the header back button\n            navigation.setOptions({\n                headerLeft: () => null, // Remove the default back button\n                // If you want a custom back button, you can add it here\n            });\n\n            return () => BackHandler.removeEventListener('hardwareBackPress', onBackPress);\n        }, [navigation])\n    );\n\n    // Handle app state changes (foreground/background)\n    useEffect(() => {\n        const subscription = AppState.addEventListener('change', nextAppState => {\n            console.log('App state changed from', appState, 'to', nextAppState);\n            \n            // App has come back to foreground\n            if (appState.match(/inactive|background/) && nextAppState === 'active') {\n                console.log('App has come back to the foreground!');\n                \n                // Check socket connection status\n                if (!socketService.isConnected()) {\n                    console.log('Socket disconnected while app was in background, attempting to reconnect...');\n                    \n                    // Try to reconnect\n                    socketService.reconnect().catch(error => {\n                        console.error('Failed to reconnect socket:', error);\n                        \n                        // Navigation to login screen if reconnection fails\n                        CustomAlert.alert(\n                            \"Connection Lost\",\n                            \"Your connection to the game was lost. Please log in again.\",\n                            [\n                                { \n                                    text: \"OK\", \n                                    onPress: () => navigation.reset({\n                                        index: 0,\n                                        routes: [{ name: 'Login' as never }],\n                                    })\n                                }\n                            ]\n                        );\n                    });\n                }\n            }\n            \n            setAppState(nextAppState);\n        });\n        \n        return () => {\n            subscription.remove();\n        };\n    }, [appState, navigation]);\n\n    useEffect(() => {\n        console.log('useEffect called');\n        \n        const handleNotInGame = (data: { gameId: string, playerId: string }) => {\n            console.log('handleNotInGame called with data:', data);\n            console.log('currentGameId:', gameId);\n            console.log('currentUserId:', socketService.getCurrentUser()?.userId);\n            \n            if (data.gameId === gameId && data.playerId === socketService.getCurrentUser()?.userId) {\n                console.log('Navigating to Home screen due to NOT_IN_GAME event');\n                navigation.reset({\n                    index: 0,\n                    routes: [{ name: 'Home' as never }],\n                });\n            }\n        };\n        \n        socketService.on(BroadcastTypes.NOT_IN_GAME, handleNotInGame);\n        \n        socketService.onGameState((state: GameBroadcastState) => {\n            console.log('Game state received:', state);\n            setGameState(state);\n            \n            setScreenState(prev => ({\n                ...prev,\n                mode: state.public.phase === 'PLAYING' ? 'playing' : 'management',\n                isCurrentPlayer: state.public.players[state.public.currentPlayerIndex]?.name === playerName\n            }));\n        });\n\n        return () => {\n            socketService.off(BroadcastTypes.NOT_IN_GAME, handleNotInGame);\n        };\n    }, [gameId, navigation]);\n\n    const handleAddAgent = () => {\n        socketService.addAgent(gameId);\n    };\n\n    const handleStartGame = () => {\n        socketService.startGame(gameId);\n    };\n\n    const handlePlayCard = (cardIndex: number) => {\n        socketService.playCard(gameId, cardIndex);\n    };\n\n    const handleExtraAction = (actionType: string, actionData: any) => {\n        socketService.extraAction(gameId, actionType, actionData);\n    };\n\n    const handleKickPlayer = (playerId: string) => {\n        socketService.kickPlayer(gameId, playerId);\n    };\n\n    const handleReorderPlayer = (playerId: string, direction: 'up' | 'down') => {\n        socketService.reorderPlayer(gameId, playerId, direction);\n    };\n\n    if (!gameState) {\n        return <Text>Loading...</Text>;\n    }\n\n    const renderGameContent = () => {\n        if (gameState.public.phase === GamePhase.FINISHED) {\n            return (\n                <GameEnd \n                    teams={gameState.public.gameSpecificData?.teams || []}\n                    gamePoints={gameState.public.gameSpecificData?.gamePoints || []}\n                    playerId={socketService.getCurrentUser()?.userId || ''}\n                    players={gameState.public.players}\n                    gamePointsReversed={gameState.public.gameCharacteristics.gamePointsReversed}\n                />\n            );\n        } else if (screenState.mode === 'management') {\n            return (\n                <GameManagement\n                    gameId={gameId}\n                    onAddAgent={handleAddAgent}\n                    onStartGame={handleStartGame}\n                    playerCount={gameState.public.players.length}\n                    players={gameState.public.players.map(p => ({\n                        ...p,\n                        isOwner: p.id === gameState.public.owner\n                    }))}\n                    isOwner={gameState.public.owner === socketService.getCurrentUser()?.userId}\n                    onKickPlayer={handleKickPlayer}\n                    onReorderPlayer={handleReorderPlayer}\n                    gameCharacteristics={gameState.public.gameCharacteristics}\n                />\n            );\n        } else {\n            return (\n                <GamePlay\n                    gameState={gameState}\n                    playerName={playerName}\n                    playerId={socketService.getCurrentUser()?.userId || ''}\n                    onPlayCard={handlePlayCard}\n                    onExtraAction={handleExtraAction}\n                />\n            );\n        }\n    };\n\n    const styles = StyleSheet.create({\n        container: {\n            flex: 1,\n            padding: 20,\n            position: 'relative',\n        },\n        headerButtons: {\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            width: '100%',\n            padding: 10,\n            marginBottom: 10,\n        },\n        title: {\n            fontSize: 24,\n            fontWeight: 'bold',\n            marginTop: 10,\n            textAlign: 'center'\n        },\n        subtitle: {\n            fontSize: 18,\n            fontWeight: 'bold',\n            marginBottom: 10,\n        },\n        controls: {\n            flexDirection: 'row',\n            justifyContent: 'space-around',\n            marginBottom: 20,\n        },\n        status: {\n            fontSize: 16,\n            marginBottom: 20,\n        },\n        trickContainer: {\n            marginBottom: 20,\n        },\n        trick: {\n            flexGrow: 0,\n            height: 100,\n        },\n        handContainer: {\n            marginTop: 'auto',\n        },\n        hand: {\n            flexGrow: 0,\n            height: 100,\n        },\n        scoreboard: {\n            marginTop: 20,\n        },\n    });\n\n    return (\n        <View style={[styles.container, { backgroundColor: colors.containerBackground }]}>\n            <View style={styles.headerButtons}>\n                <ShareGameLink \n                    gameId={gameId} \n                    isOwner={gameState?.public?.owner === socketService.getCurrentUser()?.userId} \n                />\n                <LeaveGameButton gameId={gameId} />\n            </View>\n            \n            <Text style={[styles.title, { color: colors.titleText }]}>{gameId}</Text>\n            \n            {renderGameContent()}\n            <ConfirmDialog\n                visible={showLeaveConfirm}\n                title=\"Leave Game\"\n                message=\"Are you sure you want to leave this game? This action cannot be undone.\"\n                onConfirm={async () => {\n                    try {\n                        const response = await socketService.leaveGame(gameId);\n                        if (response.success) {\n                            navigation.reset({\n                                index: 0,\n                                routes: [{ name: 'Home' as never }],\n                            });\n                        }\n                    } catch (error) {\n                        console.error('Error leaving game:', error);\n                    }\n                    setShowLeaveConfirm(false);\n                }}\n                onCancel={() => setShowLeaveConfirm(false)}\n            />\n        </View>\n    );\n};\n","import React, { useEffect, useState } from 'react';\nimport { View, Text, Button, StyleSheet, TextInput } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport { SocketService } from '../services/socket.service';\nimport { AvailableGames } from '../shared/types/game-state';\nimport { useTheme } from '../theme/ThemeContext';\n\nconst GAME_TYPES: AvailableGames[] = ['SUECA'];\n\n// Function to generate a random 8 character hexadecimal string\nconst generateRandomGameName = (): string => {\n    return Math.random().toString(16).substring(2, 10);\n};\n\nexport const GameCreationScreen: React.FC<{ route: any, navigation: any }> =\n    ({route, navigation}) => {\n        const { colors } = useTheme();\n        console.log('GameCreationScreen rendered');\n        console.log('Route params:', route.params);\n        const { playerName } = route.params;\n        const socketService = SocketService.getInstance();\n        const [gameType, setGameType] = useState<AvailableGames>(GAME_TYPES[0]);\n        const [gameName, setGameName] = useState<string>('');\n    \n        const handleCreateGame = async () => {\n            console.log('Creating game');\n            await socketService.connect(playerName);\n            console.log('Connected to socket');\n            // Use the provided game name or generate a random one if empty\n            const finalGameName = gameName.trim() || generateRandomGameName();\n            const response = await socketService.createGame(playerName, gameType, finalGameName);\n            if (response.success && response.gameId) {\n                console.log('Game created successfully');\n                navigation.navigate('Game', { gameId: response.gameId, playerName });\n            }\n        };\n\n        const styles = StyleSheet.create({\n            container: {\n                flex: 1,\n                padding: 20,\n            },\n            title: {\n                fontSize: 24,\n                marginBottom: 20,\n            },\n            formGroup: {\n                marginBottom: 20,\n            },\n            label: {\n                marginBottom: 10,\n            },\n            picker: {\n                padding: 10,\n            },\n            input: {\n                borderWidth: 1,\n                borderColor: colors.inputBorder,\n                borderRadius: 5,\n                padding: 10,\n                color: colors.inputText,\n                backgroundColor: colors.inputBackground,\n            }\n        });\n\n        return (\n            <View style={[styles.container, { backgroundColor: colors.containerBackground }]}>\n                <Text style={[styles.title, { color: colors.titleText }]}>Game Creation</Text>\n                <View style={styles.formGroup}>\n                    <Text style={[styles.label, { color: colors.subtitleText }]}>\n                        Select Game Type:\n                    </Text>\n                    <Picker\n                        selectedValue={gameType}\n                        onValueChange={(itemValue: AvailableGames) => setGameType(itemValue)}\n                        style={[styles.picker, { backgroundColor: colors.pickerBackground }]}\n                    >\n                        {GAME_TYPES.map((game) => (\n                            <Picker.Item \n                                key={game} \n                                label={game.replace('_', ' ')} \n                                value={game}\n                            />\n                        ))}\n                    </Picker>\n                </View>\n                <View style={styles.formGroup}>\n                    <Text style={[styles.label, { color: colors.subtitleText }]}>\n                        Game Name (optional):\n                    </Text>\n                    <TextInput\n                        style={styles.input}\n                        value={gameName}\n                        onChangeText={setGameName}\n                        placeholder=\"Enter game name or leave blank for random\"\n                        placeholderTextColor={colors.placeholderText}\n                    />\n                </View>\n                <Button \n                    title=\"Create Game\" \n                    onPress={handleCreateGame} \n                    color={colors.primaryButton}\n                />\n            </View>\n        );\n    }","import React, { useState } from 'react';\nimport { View, TextInput, Button, StyleSheet } from 'react-native';\nimport { SocketService } from '../services/socket.service';\nimport { useTheme } from '../theme/ThemeContext';\nimport { CustomAlert } from '../utils/alert';\n\n\nexport const JoinGameScreen: React.FC<{ route: any, navigation: any }> =\n    ({route, navigation}) => {\n        const { colors } = useTheme();\n        const { playerName } = route.params;\n        const socketService = SocketService.getInstance();\n        const [gameId, setGameId] = useState('');\n\n        const handleJoinGame = async () => {\n            if (!gameId.trim()) {\n                CustomAlert.alert('Error', 'Please enter a game ID');\n                return;\n            }\n            \n            try {\n                await socketService.connect(playerName);\n                const result = await socketService.joinGame(gameId, playerName);\n                \n                if (result.success) {\n                    navigation.navigate('Game', { gameId, playerName });\n                } else {\n                    // Enhanced error messaging based on specific error types\n                    if (result.error === 'Game not found') {\n                        CustomAlert.alert('Error', 'Game not found. Please check the game ID and try again.');\n                    } else if (result.error === 'Cannot join a game in progress') {\n                        CustomAlert.alert('Error', 'Cannot join a game that is already in progress.');\n                    } else if (result.error === 'Game is full') {\n                        CustomAlert.alert('Error', 'This game is full and cannot accept more players.');\n                    } else {\n                        CustomAlert.alert('Error', result.error || 'Failed to join the game.');\n                    }\n                }\n            } catch (error) {\n                console.error('Error joining game:', error);\n                CustomAlert.alert('Connection Error', 'Failed to connect to the game server. Please try again later.');\n            }\n        };\n\n        const styles = StyleSheet.create({\n            container: {\n                flex: 1,\n                padding: 20,\n                justifyContent: 'center',\n                backgroundColor: colors.containerBackground\n            },\n            input: {\n                borderWidth: 1,\n                borderColor: colors.inputBorder,\n                padding: 10,\n                marginBottom: 20,\n                borderRadius: 5,\n                backgroundColor: colors.inputBackground,\n                color: colors.inputText\n            },\n            buttonContainer: {\n                gap: 10,\n            },\n        });\n\n        return (\n            <View style={styles.container}>\n                <TextInput\n                    style={styles.input}\n                    placeholder=\"Enter game name\"\n                    onChangeText={(text) => setGameId(text)}\n                    placeholderTextColor={colors.placeholderText}\n                    value={gameId}\n                />\n                <Button \n                    title=\"Join Game\" \n                    onPress={handleJoinGame} \n                    color={colors.primaryButton}\n                />\n            </View>\n        );\n    }\n    ","import React from 'react';\nimport { TouchableOpacity, StyleSheet } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons'; // Make sure you have this package installed\nimport { useTheme } from '../theme/ThemeContext';\n\nexport const ThemeToggleButton: React.FC = () => {\n  const { toggleTheme, themeType } = useTheme();\n  \n  return (\n    <TouchableOpacity \n      style={styles.button} \n      onPress={toggleTheme}\n      accessibilityLabel=\"Toggle theme\"\n      accessibilityRole=\"button\"\n    >\n      <Ionicons \n        name={themeType === 'light' ? 'moon-outline' : 'sunny-outline'} \n        size={22} \n        color={themeType === 'light' ? '#333' : '#fff'} \n      />\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  button: {\n    marginRight: 8,\n    padding: 8,\n  }\n}); ","import React, { useEffect, useRef, useState } from 'react';\nimport { Platform, View, StatusBar, StyleSheet, Linking } from 'react-native';\nimport { NavigationContainer, DefaultTheme, NavigationContainerRef } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { LoginScreen } from './src/screens/LoginScreen';\nimport { HomeScreen } from './src/screens/HomeScreen';\nimport { GameScreen } from './src/screens/GameScreen';\nimport { GameCreationScreen } from './src/screens/GameCreationScreen';\nimport { JoinGameScreen } from './src/screens/JoinGameScreen';\nimport { ThemeProvider, useTheme } from './src/theme/ThemeContext';\nimport { ThemeToggleButton } from './src/components/ThemeToggleButton';\nimport { SocketService } from './src/services/socket.service';\nimport { CustomAlert } from './src/utils/alert';\n\n// Types for navigation\ntype RootStackParamList = {\n  Login: { gameId?: string }; // Add gameId parameter to Login\n  Home: undefined;\n  Game: { gameId: string; playerName: string };\n  GameCreation: { playerName: string };\n  JoinGame: { playerName: string };\n};\n\nconst WebStack = createStackNavigator<RootStackParamList>();\nconst NativeStack = createNativeStackNavigator<RootStackParamList>();\n\nexport default function App() {\n  return (\n    <ThemeProvider>\n      <AppContent />\n    </ThemeProvider>\n  );\n}\n\nconst AppContent = () => {\n  const Stack = Platform.OS === 'web' ? WebStack : NativeStack;\n  const { colors, themeType } = useTheme();\n  const navigationRef = useRef<NavigationContainerRef<RootStackParamList>>(null);\n  const [initialRoute, setInitialRoute] = useState<{name: keyof RootStackParamList; params: any}>({ \n    name: 'Login', \n    params: {} \n  });\n  const [isReady, setIsReady] = useState(false);\n\n  // Custom navigation theme based on our colors\n  const navigationTheme = {\n    ...DefaultTheme,\n    colors: {\n      ...DefaultTheme.colors,\n      background: colors.appBackground,\n      card: colors.containerBackground,\n      text: colors.titleText,\n      border: colors.inputBorder,\n      primary: colors.primaryButton,\n    },\n  };\n\n  // Handle deep links\n  const handleDeepLink = async (url: string) => {\n    if (!url) return;\n    \n    console.log('Received deep link:', url);\n    \n    // Parse the URL to get the game ID - handle both native deep links and web URLs\n    let gameId;\n    \n    // Native deep link pattern\n    const nativeMatch = url.match(/cardgame:\\/\\/game\\/([^\\/]+)/);\n    if (nativeMatch) {\n      gameId = nativeMatch[1];\n    } \n    \n    // Web URL pattern - updated to match even with subdirectories\n    const webMatch = url.match(/\\/game\\/([^\\/]+)(?:\\/|$)/);\n    if (webMatch) {\n      gameId = webMatch[1];\n    }\n    \n    if (gameId) {\n      console.log('Deep link contains game ID:', gameId);\n      \n      const socketService = SocketService.getInstance();\n      if (socketService.isLoggedIn()) {\n        // If already logged in, navigate to the game directly\n        const navigation = navigationRef.current;\n        if (navigation) {\n          // First connect to ensure socket is ready\n          try {\n            await socketService.connect(socketService.getCurrentUser()?.username || '');\n            const joinResponse = await socketService.joinGame(gameId, socketService.getCurrentUser()?.username || '');\n            \n            if (joinResponse.success) {\n              navigation.reset({\n                index: 0,\n                routes: [\n                  { name: 'Game', params: { \n                    gameId, \n                    playerName: socketService.getCurrentUser()?.username \n                  }}\n                ],\n              });\n            } else {\n              // Show an alert with the specific error\n              CustomAlert.alert(\n                'Game Join Failed',\n                joinResponse.error === 'Game not found or cannot join'\n                  ? 'The game you tried to join does not exist or is no longer available.'\n                  : 'Could not join the game.',\n                [{ \n                  text: 'OK', \n                  onPress: () => navigation.reset({ index: 0, routes: [{ name: 'Home' }] }) \n                }]\n              );\n            }\n          } catch (error) {\n            console.error('Error joining game:', error);\n            CustomAlert.alert(\n              'Connection Error',\n              'Failed to connect to the game server. Please try again later.',\n              [{ \n                text: 'OK', \n                onPress: () => navigation.reset({ index: 0, routes: [{ name: 'Home' }] }) \n              }]\n            );\n          }\n        }\n      } else {\n        // If not logged in, set initial route to Login with gameId\n        setInitialRoute({ name: 'Login' as keyof RootStackParamList, params: { gameId } });\n      }\n    }\n  };\n\n  // Set up link listeners\n  useEffect(() => {\n    // For web, check multiple sources for game ID\n    if (Platform.OS === 'web') {\n      let gameId = null;\n      \n      // First check URL query parameters\n      const urlParams = new URLSearchParams(window.location.search);\n      gameId = urlParams.get('gameId');\n      \n      // If not found in URL params, check sessionStorage (for GitHub Pages)\n      if (!gameId && typeof sessionStorage !== 'undefined') {\n        gameId = sessionStorage.getItem('gameId');\n        // Clear from sessionStorage after reading\n        if (gameId) {\n          console.log('Found game ID in sessionStorage:', gameId);\n          sessionStorage.removeItem('gameId');\n        }\n      }\n      \n      // If still not found, check path\n      if (!gameId) {\n        const path = window.location.pathname;\n        const webMatch = path.match(/\\/game\\/([^\\/]+)(?:\\/|$)/);\n        if (webMatch) {\n          gameId = webMatch[1];\n        }\n      }\n      \n      // Process the gameId if found\n      if (gameId) {\n        console.log('Found game ID:', gameId);\n        handleDeepLink(gameId);\n        \n        // Clean URL if needed\n        if (window.history && window.history.replaceState) {\n          const cleanUrl = window.location.pathname;\n          window.history.replaceState({}, document.title, cleanUrl);\n        }\n      }\n    }\n\n    // Regular deep link handling for all platforms\n    const subscription = Linking.addEventListener('url', ({ url }) => {\n      handleDeepLink(url);\n    });\n\n    // Handle the case where the app is opened from a link\n    Linking.getInitialURL().then(url => {\n      if (url) handleDeepLink(url);\n      setIsReady(true);\n    }).catch(err => {\n      console.error('Error getting initial URL:', err);\n      setIsReady(true);\n    });\n\n    return () => {\n      subscription.remove();\n    };\n  }, []);\n\n  useEffect(() => {\n    const socketService = SocketService.getInstance();\n    const socket = socketService.getSocket();\n   \n    // Set up global socket state listener\n    const onDisconnect = (reason: any) => {\n        console.log('Socket disconnected:', reason);\n        if (reason === \"io server disconnect\" || reason === \"transport close\") {\n            // Server forced disconnect or transport closed - try to reconnect\n            setTimeout(() => {\n                socketService.reconnect().catch(error => {\n                    console.error('Failed to reconnect socket after disconnect:', error);\n                });\n            }, 1000);\n        }\n    };\n    \n    socket.on('disconnect', onDisconnect);\n    \n    return () => {\n        socket.off('disconnect', onDisconnect);\n    };\n  }, []);\n\n  if (!isReady) {\n    return null; // or a loading indicator\n  }\n\n  return (\n    <View style={[styles.container, { backgroundColor: colors.appBackground }]}>\n      <StatusBar \n        backgroundColor={colors.appBackground}\n        barStyle={themeType === 'dark' ? 'light-content' : 'dark-content'} \n      />\n      <NavigationContainer \n        theme={navigationTheme}\n        ref={navigationRef}\n        initialState={{\n          routes: [initialRoute]\n        }}\n      >\n        <Stack.Navigator \n          initialRouteName={initialRoute.name} \n          screenOptions={{\n            headerShown: true,\n            headerStyle: {\n              backgroundColor: colors.containerBackground,\n              borderBottomColor: colors.inputBorder,\n              borderBottomWidth: 1,\n            },\n            headerTitleStyle: {\n              color: colors.titleText,\n            },\n            headerTintColor: colors.titleText,\n            headerRight: () => <ThemeToggleButton />\n          }}\n        >\n          <Stack.Screen \n            name=\"Login\" \n            component={LoginScreen}\n            options={{ \n              title: 'Sign In',\n              headerLeft: () => null \n            }}\n          />\n          <Stack.Screen \n            name=\"Home\" \n            component={HomeScreen} \n            options={{\n              title: 'Home',\n              headerLeft: () => null,\n            }}\n          />\n          <Stack.Screen \n            name=\"Game\" \n            component={GameScreen}\n          />\n          <Stack.Screen \n            name=\"GameCreation\" \n            component={GameCreationScreen}\n            options={{ title: 'Create Game' }}\n          />\n          <Stack.Screen \n            name=\"JoinGame\" \n            component={JoinGameScreen}\n            options={{ title: 'Join Game' }}\n          />\n        </Stack.Navigator>\n      </NavigationContainer>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n});\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n","// extracted by mini-css-extract-plugin\nexport default {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [884], () => (__webpack_require__(9353)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["AuthActions","MainActions","GameAdminActions","GamePlayActions","BroadcastTypes","socketUrl","socketPath","SocketService","currentUser","reconnectAttempts","MAX_RECONNECT_ATTEMPTS","heartbeatInterval","HEARTBEAT_INTERVAL","eventHandlers","Map","constructor","this","socket","io","config","transports","path","autoConnect","reconnection","reconnectionAttempts","reconnectionDelay","timeout","console","log","setupSocketListeners","on","id","reason","connect","error","disconnect","attemptNumber","STATE","state","GAME_DELETED","data","gameId","NOT_IN_GAME","playerId","triggerEvent","socketId","userId","timestamp","Date","toISOString","clearHeartbeat","clearCurrentUser","getInstance","instance","playerName","Promise","resolve","reject","connected","createGame","gameType","gameName","setTimeout","Error","emit","CREATE_GAME","response","clearTimeout","joinGame","JOIN_GAME","addAgent","ADD_AGENT","startGame","START_GAME","playCard","cardIndex","PLAY_CARD","onGameState","callback","onAny","eventName","args","setupHeartbeat","clearInterval","setInterval","heartbeatTimeout","warn","reconnect","catch","HEARTBEAT","success","logout","hasUser","login","username","LOGIN","setCurrentUser","extraAction","actionType","actionData","EXTRA_ACTION","getCurrentUser","LOGOUT","leaveGame","LEAVE_GAME","kickPlayer","KICK_PLAYER","event","has","set","get","push","off","handlers","index","indexOf","splice","forEach","handler","isConnected","onConnect","onError","then","getSocket","reorderPlayer","direction","REORDER_PLAYER","isLoggedIn","lightColors","cardBackground","cardBorder","cardTextBlack","cardTextRed","dialogOverlay","dialogBackground","dialogCancelButton","dialogConfirmButton","dialogButtonText","leaveButtonBackground","leaveButtonText","playerInfoBackground","playerInfoBorder","currentPlayerText","playerStatsText","trumpInfoBackground","trumpInfoBorder","teamScoreCardBackground","teamScoreCardBorder","inputBorder","inputBackground","inputText","placeholderText","tableFelt","tableEdge","statusText","subtitleText","playerTeamBackground","playerTeamBorder","teamScoreText","playerTeamScoreText","accent","welcomeText","logoutButton","primaryButton","primaryButtonText","appBackground","containerBackground","pickerBackground","titleText","winningPlayerBackground","winningPlayerBorder","shareButtonBackground","shareButtonText","darkColors","ThemeContext","createContext","themeType","colors","setThemeType","toggleTheme","ThemeProvider","children","useState","_jsx","Provider","value","prevTheme","useTheme","context","useContext","undefined","CustomAlert","alert","title","message","buttons","options","length","window","onPress","confirmResult","confirm","confirmButton","find","button","style","cancelButton","defaultButton","LoginScreen","navigation","route","setUsername","socketService","params","styles","StyleSheet","create","container","flex","padding","justifyContent","backgroundColor","fontSize","textAlign","marginBottom","color","input","borderWidth","borderColor","borderRadius","buttonContainer","marginTop","alignItems","buttonText","fontWeight","subtitle","useEffect","_jsxs","View","Text","TextInput","onChangeText","placeholder","placeholderTextColor","autoCapitalize","autoCorrect","TouchableOpacity","async","trim","joinResponse","replace","errorMessage","text","HomeScreen","welcome","gap","Button","handleCreateGame","navigate","handleJoinGame","GameManagement","onAddAgent","onStartGame","playerCount","players","isOwner","onKickPlayer","onReorderPlayer","gameCharacteristics","controls","flexDirection","playerListContainer","height","playerList","playerRow","paddingVertical","paddingHorizontal","borderBottomWidth","borderBottomColor","playerActions","actionButton","kickButton","moveButton","width","upButton","downButton","buttonSpacer","hasCorrectNumberOfPlayers","minPlayers","maxPlayers","Infinity","playerGroupSize","ScrollView","map","player","name","isAgent","_Fragment","require","CardRender","card","disabled","margin","opacity","suit","redText","isRed","Object","assign","className","cursor","hearts","diamonds","clubs","spades","defaultDesignProps","TABLE_SIZE","TABLE_MEMBERS_EXPANSION_FACTOR","CARD_RADIUS_FACTOR","PLAYER_RADIUS_FACTOR","MIN_GAME_AREA_HEIGHT","CARD_SIZE","PLAYER_INFO_MIN_WIDTH","GamePlay","gameState","onPlayCard","onExtraAction","position","alignSelf","display","headerRow","status","trickContainer","zIndex","trickTable","tableBackground","cardPositioner","trickCardContainer","handContainer","flexShrink","handWrapper","handContent","hand","flexGrow","extraActionContainer","gameArea","marginVertical","playAreaContainer","playerTable","playerInfo","minWidth","winningPlayerInfo","playerNameFixed","currentPlayerName","playerStats","trumpInfo","top","right","trumpTitle","trumpHolder","teamScoreContainer","teamScoreCard","playerTeamCard","teamName","teamScore","playerTeamScore","currentPlayerIndex","public","isCurrentPlayer","isResolvingTrick","gameSpecificData","isResolvingTurnEnd","isResolvingGameEnd","private","currentTrick","scores","canToggle","trumpCard","teams","gamePoints","playerTeamIndex","findIndex","team","includes","windowWidth","Dimensions","windowHeight","responsiveStyles","getResponsiveStyles","designProps","isPlayerTeam","minHeight","renderTrumpInfo","trumpHolderName","p","renderCurrentTrick","myPlayerIndex","numPlayers","CARD_RADIUS","getCardPosition","playerIndex","relativePos","angle","Math","PI","transform","translateX","cos","translateY","sin","rotate","cardPlayerId","renderPlayers","PLAYER_RADIUS","winningTeams","getWinningTeams","teamScores","reduce","sum","s","score","maxScore","max","filter","getPlayerPosition","playerScore","isWinningPlayer","horizontal","contentContainerStyle","isHighWins","maxHeight","maxWidth","GameEnd","gamePointsReversed","scoreList","teamRow","playerTeamRow","winnerRow","rankAndTeam","rank","marginRight","teamMembers","teamTitle","marginLeft","playerTeamText","points","sortedTeams","teamIndex","sort","a","b","isWinner","memberId","GamePhase","ConfirmDialog","visible","onConfirm","onCancel","overlay","dialog","marginHorizontal","Modal","transparent","animationType","onRequestClose","LeaveGameButton","showConfirm","setShowConfirm","useNavigation","leaveButton","reset","routes","ShareGameLink","shareButton","webUrl","pathname","location","basePath","endsWith","substring","lastIndexOf","hostname","origin","url","navigator","clipboard","writeText","GameScreen","setGameState","screenState","setScreenState","mode","showLeaveConfirm","setShowLeaveConfirm","appState","setAppState","AppState","currentState","useFocusEffect","useCallback","onBackPress","BackHandler","addEventListener","setOptions","headerLeft","removeEventListener","subscription","nextAppState","match","remove","handleNotInGame","prev","phase","handleAddAgent","handleStartGame","handlePlayCard","handleExtraAction","handleKickPlayer","handleReorderPlayer","headerButtons","trick","scoreboard","owner","FINISHED","GAME_TYPES","GameCreationScreen","setGameType","setGameName","formGroup","label","picker","Picker","selectedValue","onValueChange","itemValue","game","Item","finalGameName","random","toString","JoinGameScreen","setGameId","result","ThemeToggleButton","accessibilityLabel","accessibilityRole","Ionicons","size","WebStack","createStackNavigator","createNativeStackNavigator","AppContent","Stack","navigationRef","useRef","initialRoute","setInitialRoute","isReady","setIsReady","navigationTheme","DefaultTheme","background","border","primary","handleDeepLink","nativeMatch","webMatch","current","URLSearchParams","search","sessionStorage","getItem","removeItem","history","replaceState","cleanUrl","document","Linking","getInitialURL","err","onDisconnect","StatusBar","barStyle","NavigationContainer","theme","ref","initialState","Navigator","initialRouteName","screenOptions","headerShown","headerStyle","headerTitleStyle","headerTintColor","headerRight","Screen","component","registerRootComponent","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","i","fulfilled","j","keys","every","key","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}