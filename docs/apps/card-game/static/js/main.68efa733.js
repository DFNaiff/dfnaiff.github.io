(()=>{"use strict";var e={8914:(e,t,o)=>{var r=o(7036),n=o(9399),a=o(7904),i=o(784),s=o(863),l=o(2571),c=o(5225),d=o(5489),u=o(277),m=o(1111),g=o(3396),h=o(3390),p=o(6729),f=o(5346),y=o(6808);let x=function(e){return e.LOGIN="auth/login",e.LOGOUT="auth/logout",e.HEARTBEAT="auth:heartbeat",e}({}),b=function(e){return e.CREATE_GAME="main/createGame",e.JOIN_GAME="main/joinGame",e.LEAVE_GAME="main/leaveGame",e}({}),T=function(e){return e.ADD_AGENT="game/admin/addAgent",e.START_GAME="game/admin/startGame",e.KICK_PLAYER="game/admin/kickPlayer",e.LEAVE_GAME="game/admin/leaveGame",e.REORDER_PLAYER="game/admin/reorderPlayer",e}({}),k=function(e){return e.PLAY_CARD="game/play/playCard",e.EXTRA_ACTION="game/play/extraAction",e}({}),C=function(e){return e.STATE="broadcast/state",e.GAME_ERROR="broadcast/gameError",e.GAME_ENDED="broadcast/gameEnded",e.GAME_DELETED="broadcast/gameDeleted",e.NOT_IN_GAME="broadcast/notInGame",e}({});const I={socketUrl:"https://suecatatau-server-production.up.railway.app",socketPath:"/socket.io/"};class S{currentUser=null;reconnectAttempts=0;MAX_RECONNECT_ATTEMPTS=5;heartbeatInterval=null;HEARTBEAT_INTERVAL=6e4;eventHandlers=new Map;constructor(){this.socket=(0,y.io)(I.socketUrl,{transports:["websocket","polling"],path:I.socketPath,autoConnect:!1,reconnection:!0,reconnectionAttempts:this.MAX_RECONNECT_ATTEMPTS,reconnectionDelay:1e3,timeout:1e4}),console.log("SocketService constructor called, connecting to:",I.socketUrl),this.setupSocketListeners()}setupSocketListeners(){this.socket.on("connect",(()=>{console.log("Socket CONNECTED, ID:",this.socket.id),this.reconnectAttempts=0})),this.socket.on("disconnect",(e=>{console.log("Socket DISCONNECTED, was ID:",this.socket.id,"Reason:",e),"io server disconnect"===e&&this.socket.connect()})),this.socket.on("connect_error",(e=>{console.error("Connection error:",e),this.reconnectAttempts++,this.reconnectAttempts>=this.MAX_RECONNECT_ATTEMPTS&&(console.error("Max reconnection attempts reached"),this.socket.disconnect())})),this.socket.on("reconnect",(e=>{console.log("Socket RECONNECTED, new ID:",this.socket.id,"Attempt:",e)})),this.socket.on("reconnect_attempt",(e=>{console.log("Socket RECONNECTING, attempt:",e)})),this.socket.on(C.STATE,(e=>{console.log("Received state update for socket ID:",this.socket.id)})),this.socket.on(C.GAME_DELETED,(e=>{console.log("Received game deleted event for socket ID:",this.socket.id,"Game ID:",e.gameId)})),this.socket.on(C.NOT_IN_GAME,(e=>{console.log("Received not in game event for socket ID:",this.socket.id,"Game ID:",e.gameId,"Player ID:",e.playerId),this.triggerEvent(C.NOT_IN_GAME,e)})),this.socket.on("forceDisconnect",(e=>{console.log("[Client Force Disconnect]",{socketId:this.socket.id,userId:this.currentUser?.userId,reason:e.reason,timestamp:(new Date).toISOString()}),this.clearHeartbeat(),this.clearCurrentUser(),this.socket.disconnect()}))}static getInstance(){return S.instance||(S.instance=new S),S.instance}connect(e){return console.log("Connect called, current socket ID:",this.socket.id),new Promise(((e,t)=>{if(this.socket.connected)return console.log("Socket already connected with ID:",this.socket.id),void e();this.socket.connect(),this.socket.on("connect",(()=>{console.log("Connected to server with ID:",this.socket.id),e()})),this.socket.on("connect_error",(e=>{t(e)}))}))}createGame(e,t,o){return new Promise(((r,n)=>{console.log("Emitting createGame event with playerName:",e,"and gameType:",t);const a=setTimeout((()=>{n(new Error("createGame timeout"))}),5e3);this.socket.emit(b.CREATE_GAME,{playerName:e,gameType:t,gameName:o},(e=>{console.log("Received response from createGame:",e),clearTimeout(a),r(e)})),this.socket.on("error",(e=>{console.error("Socket error:",e),n(e)}))}))}joinGame(e,t){return new Promise(((o,r)=>{console.log("Emitting joinGame event with gameId:",e,"playerName:",t);const n=setTimeout((()=>{r(new Error("joinGame timeout"))}),5e3);this.socket.emit(b.JOIN_GAME,{gameId:e,playerName:t},(e=>{console.log("Received response from joinGame:",e),clearTimeout(n),o(e)})),this.socket.on("error",(e=>{console.error("Socket error:",e),r(e)}))}))}addAgent(e){return new Promise((t=>{this.socket.emit(T.ADD_AGENT,{gameId:e},(e=>{t(e)}))}))}startGame(e){return new Promise((t=>{this.socket.emit(T.START_GAME,{gameId:e},(e=>{t(e)}))}))}playCard(e,t){return new Promise((o=>{this.socket.emit(k.PLAY_CARD,{gameId:e,cardIndex:t},(e=>{o(e)}))}))}onGameState(e){console.log("Setting up game state listener for socket:",{socketId:this.socket.id,userId:this.currentUser?.userId,connected:this.socket.connected}),this.socket.onAny(((e,...t)=>{console.log("Received event:",e,"Socket ID:",this.socket.id,"Args:",t)})),this.socket.on(C.STATE,(t=>{console.log("Received game state for socket:",{socketId:this.socket.id,userId:this.currentUser?.userId,state:t}),e(t)})),this.socket.on("connect",(()=>{console.log("Socket connected:",this.socket.id)})),this.socket.on("disconnect",(()=>{console.log("Socket disconnected")}))}disconnect(){this.socket.disconnect()}setupHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),console.log("[Client Heartbeat] Cleared existing heartbeat interval")),console.log("[Client Heartbeat] Setting up new heartbeat interval"),this.heartbeatInterval=setInterval((()=>{if(this.socket.connected&&this.currentUser){console.log("[Client Heartbeat] Sending heartbeat");const e=setTimeout((()=>{console.warn("[Client Heartbeat] Heartbeat response timeout - connection may be stale"),this.socket.disconnect(),this.reconnect().catch((e=>{console.error("Failed to reconnect after heartbeat timeout:",e)}))}),1e4);this.socket.emit(x.HEARTBEAT,{},(t=>{clearTimeout(e),console.log("[Client Heartbeat] Received response:",{socketId:this.socket.id,userId:this.currentUser?.userId,success:t.success,timestamp:(new Date).toISOString()}),t.success||(console.warn("[Client Heartbeat] Failed, initiating logout"),this.logout())}))}else console.log("[Client Heartbeat] Skipped: Socket disconnected or no user",{connected:this.socket.connected,hasUser:!!this.currentUser})}),this.HEARTBEAT_INTERVAL)}clearHeartbeat(){this.heartbeatInterval&&(console.log("[Client Heartbeat] Clearing heartbeat interval"),clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}login(e){return new Promise((t=>{this.socket.connect(),console.log("Logging in with socket ID:",this.socket.id),this.socket.emit(x.LOGIN,{username:e},(o=>{console.log("Login response received for socket:",{socketId:this.socket.id,response:o}),o.success?(this.setCurrentUser(e,o.userId),this.setupHeartbeat()):this.socket.disconnect(),t(o)}))}))}extraAction(e,t,o){return new Promise((r=>{this.socket.emit(k.EXTRA_ACTION,{gameId:e,actionType:t,actionData:o},(e=>{r(e)}))}))}setCurrentUser(e,t){this.currentUser={username:e,userId:t}}getCurrentUser(){return this.currentUser}clearCurrentUser(){this.currentUser=null}async logout(){this.clearHeartbeat(),this.currentUser&&await new Promise((e=>{this.socket.emit(x.LOGOUT,{},(()=>{this.clearCurrentUser(),this.socket.disconnect(),e()}))}))}leaveGame(e){return new Promise(((t,o)=>{console.log("Emitting leaveGame event with gameId:",e);const r=setTimeout((()=>{o(new Error("leaveGame timeout"))}),5e3);this.socket.emit(b.LEAVE_GAME,{gameId:e},(e=>{console.log("Received response from leaveGame:",e),clearTimeout(r),t(e)})),this.socket.on("error",(e=>{console.error("Socket error:",e),o(e)}))}))}kickPlayer(e,t){this.socket.emit(T.KICK_PLAYER,{gameId:e,playerId:t})}on(e,t){this.eventHandlers.has(e)||this.eventHandlers.set(e,[]),this.eventHandlers.get(e)?.push(t)}off(e,t){if(!this.eventHandlers.has(e))return;const o=this.eventHandlers.get(e)||[],r=o.indexOf(t);-1!==r&&o.splice(r,1)}triggerEvent(e,...t){(this.eventHandlers.get(e)||[]).forEach((e=>e(...t)))}isConnected(){return this.socket.connected}reconnect(){return new Promise(((e,t)=>{if(this.socket.connected)return console.log("Socket already connected, no need to reconnect"),void e();console.log("Attempting to reconnect socket...");const o=setTimeout((()=>{t(new Error("Socket reconnection timeout"))}),5e3),r=()=>{clearTimeout(o),this.socket.off("connect",r),this.socket.off("connect_error",n),this.currentUser?this.login(this.currentUser.username).then((o=>{o.success?(console.log("Re-authenticated after reconnect"),e()):t(new Error("Failed to re-authenticate after reconnection"))})).catch(t):e()},n=e=>{clearTimeout(o),this.socket.off("connect",r),this.socket.off("connect_error",n),t(e)};this.socket.on("connect",r),this.socket.on("connect_error",n),this.socket.connect()}))}getSocket(){return this.socket}reorderPlayer(e,t,o){this.socket.emit(T.REORDER_PLAYER,{gameId:e,playerId:t,direction:o})}isLoggedIn(){return!!this.currentUser}}var B=o(575);const j={cardBackground:"white",cardBorder:"#ddd",cardTextBlack:"black",cardTextRed:"red",dialogOverlay:"rgba(0, 0, 0, 0.5)",dialogBackground:"white",dialogCancelButton:"#666",dialogConfirmButton:"#d32f2f",dialogButtonText:"white",leaveButtonBackground:"#d32f2f",leaveButtonText:"white",playerInfoBackground:"rgba(255, 255, 255, 0.9)",playerInfoBorder:"#ccc",currentPlayerText:"#4CAF50",playerStatsText:"#666",trumpInfoBackground:"rgba(255, 255, 255, 0.9)",trumpInfoBorder:"#ccc",teamScoreCardBackground:"rgba(255, 255, 255, 0.6)",teamScoreCardBorder:"rgba(0, 0, 0, 0.1)",inputBorder:"#ddd",inputBackground:"white",inputText:"black",placeholderText:"gray",tableFelt:"#1B5E20",tableEdge:"#4A3211",statusText:"#000000",subtitleText:"#000000",playerTeamBackground:"rgba(220, 242, 220, 0.7)",playerTeamBorder:"rgba(76, 175, 80, 0.3)",teamScoreText:"#333",playerTeamScoreText:"#1B5E20",accent:"#66bb6a",welcomeText:"#000000",logoutButton:"#d32f2f",primaryButton:"#2196f3",primaryButtonText:"white",appBackground:"#e8f5e9",containerBackground:"#e8f5e9",pickerBackground:"#e0f2f1",titleText:"#000000",winningPlayerBackground:"#4a9eff30",winningPlayerBorder:"#4a9eff"},v={cardBackground:"#2c2c2c",cardBorder:"#444",cardTextBlack:"#e0e0e0",cardTextRed:"#ff6b6b",dialogOverlay:"rgba(0, 0, 0, 0.7)",dialogBackground:"#2c2c2c",dialogCancelButton:"#555",dialogConfirmButton:"#b71c1c",dialogButtonText:"#e0e0e0",leaveButtonBackground:"#b71c1c",leaveButtonText:"#e0e0e0",playerInfoBackground:"rgba(40, 40, 40, 0.9)",playerInfoBorder:"#444",currentPlayerText:"#66bb6a",playerStatsText:"#aaa",trumpInfoBackground:"rgba(40, 40, 40, 0.9)",trumpInfoBorder:"#444",teamScoreCardBackground:"rgba(40, 40, 40, 0.6)",teamScoreCardBorder:"rgba(255, 255, 255, 0.1)",inputBorder:"#444",inputBackground:"#222",inputText:"#e0e0e0",placeholderText:"#aaa",tableFelt:"#0c3912",tableEdge:"#2A1901",statusText:"#e0e0e0",subtitleText:"#e0e0e0",playerTeamBackground:"rgba(40, 97, 40, 0.7)",playerTeamBorder:"rgba(76, 175, 80, 0.3)",teamScoreText:"#e0e0e0",playerTeamScoreText:"#66bb6a",accent:"#66bb6a",welcomeText:"#e0e0e0",logoutButton:"#b71c1c",primaryButton:"#1565c0",primaryButtonText:"#e0e0e0",appBackground:"#121212",containerBackground:"#121212",pickerBackground:"#333",titleText:"#e0e0e0",winningPlayerBackground:"#4a9eff30",winningPlayerBorder:"#4a9eff"},w=(0,n.createContext)({themeType:"light",colors:j,setThemeType:()=>{},toggleTheme:()=>{}}),E=({children:e})=>{const[t,o]=(0,n.useState)("light"),r="light"===t?j:v;return(0,B.jsx)(w.Provider,{value:{themeType:t,colors:r,setThemeType:o,toggleTheme:()=>{o((e=>"light"===e?"dark":"light"))}},children:e})},A=()=>{const e=(0,n.useContext)(w);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},P=j,G=({navigation:e,route:t})=>{const[o,r]=(0,n.useState)(""),i=S.getInstance(),{colors:l}=A(),d=t.params?.gameId;(0,n.useEffect)((()=>{d&&console.log("LoginScreen received gameId:",d)}),[d]);const u=s.default.create({container:{flex:1,padding:20,justifyContent:"center",backgroundColor:l.containerBackground},title:{fontSize:24,textAlign:"center",marginBottom:30,color:l.titleText},input:{borderWidth:1,borderColor:l.inputBorder,backgroundColor:l.inputBackground,padding:10,marginBottom:20,borderRadius:5,color:l.titleText},buttonContainer:{marginTop:10},subtitle:{fontSize:16,marginBottom:10}});return(0,B.jsxs)(a.default,{style:u.container,children:[(0,B.jsx)(f.default,{style:u.title,children:d?"Enter Your Username to Join Game":"Enter Your Username"}),d&&(0,B.jsxs)(f.default,{style:[u.subtitle,{color:l.subtitleText}],children:["You're joining game: ",d]}),(0,B.jsx)(h.default,{style:u.input,onChangeText:r,value:o,placeholder:"Username",placeholderTextColor:l.playerStatsText,autoCapitalize:"none",autoCorrect:!1}),(0,B.jsx)(a.default,{style:u.buttonContainer,children:(0,B.jsx)(p.default,{title:d?"Login & Join Game":"Login",onPress:async()=>{if(o.trim())try{console.log("Logging in with username:",o);const r=await i.login(o);if(r.success)if(i.setCurrentUser(o,r.userId),console.log("Login successful."),d){console.log("Joining game directly with ID:",d);try{await i.connect(o);const t=await i.joinGame(d,o);if(t.success)e.replace("Game",{gameId:d,playerName:o});else{const o="Game not found or cannot join"===t.error?"The game you tried to join does not exist or is no longer available.":"Could not join the game. You will be redirected to the home screen.";c.default.alert("Game Join Failed",o,[{text:"OK",onPress:()=>e.replace("Home")}])}}catch(t){console.error("Error joining game:",t),c.default.alert("Connection Error","Failed to connect to the game server. Please try again later.",[{text:"OK",onPress:()=>e.replace("Home")}])}}else e.replace("Home");else{console.log("Login failed:",r.error||"Username already taken");const e=r.error||"This username is already in use. Please choose a different one.";c.default.alert("Login Failed",e)}}catch(t){console.error("Server connection error:",t),c.default.alert("Connection Error","Could not connect to the server. Please check your internet connection and try again.")}else c.default.alert("Error","Please enter a username")},color:l.primaryButton})})]})},R=({navigation:e})=>{const{colors:t,toggleTheme:o,themeType:r}=A(),n=S.getInstance(),i=n.getCurrentUser()?.username,l=s.default.create({container:{flex:1,padding:20,justifyContent:"center"},welcome:{fontSize:24,textAlign:"center",marginBottom:30,color:t.welcomeText},buttonContainer:{gap:10}});return(0,B.jsxs)(a.default,{style:[l.container,{backgroundColor:t.containerBackground}],children:[(0,B.jsxs)(f.default,{style:l.welcome,children:["Welcome, ",i,"!"]}),(0,B.jsxs)(a.default,{style:l.buttonContainer,children:[(0,B.jsx)(p.default,{title:"Create Game",onPress:()=>{console.log("Creating game"),e.navigate("GameCreation",{playerName:i})},color:t.primaryButton}),(0,B.jsx)(p.default,{title:"Join Game",onPress:()=>{console.log("Joining game"),e.navigate("JoinGame",{playerName:i})},color:t.primaryButton}),(0,B.jsx)(p.default,{title:"Logout",onPress:async()=>{await n.logout(),console.log("Logging out"),e.replace("Login")},color:t.logoutButton})]})]})};var N=o(5318),_=o(6905),D=o(9367),O=o(3717);const L=({gameId:e,onAddAgent:t,onStartGame:o,playerCount:r,players:n,isOwner:i,onKickPlayer:l,onReorderPlayer:c,gameCharacteristics:d})=>{const{colors:u}=A(),m=s.default.create({container:{flex:1,padding:20},subtitle:{fontSize:18,fontWeight:"bold",marginBottom:10},controls:{flexDirection:"column",justifyContent:"space-around",marginTop:20},playerListContainer:{marginTop:10,marginBottom:10,height:160,borderWidth:1,borderColor:"#ddd",borderRadius:5},playerList:{flex:1},playerRow:{flexDirection:"row",justifyContent:"space-between",paddingVertical:8,paddingHorizontal:10,borderBottomWidth:1,borderBottomColor:"#eee",alignItems:"center"},playerName:{fontSize:16,flex:1},playerActions:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},actionButton:{paddingHorizontal:2},kickButton:{color:"red",fontSize:18,fontWeight:"bold"},moveButton:{fontSize:18,fontWeight:"bold",width:18,textAlign:"center"},upButton:{color:"green"},downButton:{color:"blue"},buttonSpacer:{marginTop:10}}),g=r>=(d?.minPlayers||2)&&r<=(d?.maxPlayers||1/0)&&r%(d?.playerGroupSize||1)===0;return(0,B.jsxs)(a.default,{style:m.container,children:[(0,B.jsx)(f.default,{style:[m.subtitle,{color:u.titleText}],children:"Game Setup"}),(0,B.jsxs)(f.default,{style:{color:u.statusText},children:["Players: ",r," (Min: ",d?.minPlayers||2,")"]}),(0,B.jsx)(a.default,{style:m.playerListContainer,children:(0,B.jsx)(D.default,{style:m.playerList,children:n.map(((e,t)=>(0,B.jsxs)(a.default,{style:m.playerRow,children:[(0,B.jsxs)(f.default,{style:[m.playerName,{color:u.statusText}],children:[e.name," ",e.isAgent?"(AI)":""," ",e.isOwner?"(Owner)":""]}),i&&!e.isOwner&&(0,B.jsxs)(a.default,{style:m.playerActions,children:[(0,B.jsx)(O.default,{onPress:()=>c(e.id,"up"),style:m.actionButton,children:(0,B.jsx)(f.default,{style:[m.moveButton,m.upButton],children:"\u2191"})}),(0,B.jsx)(O.default,{onPress:()=>c(e.id,"down"),style:m.actionButton,children:(0,B.jsx)(f.default,{style:[m.moveButton,m.downButton],children:"\u2193"})}),(0,B.jsx)(O.default,{onPress:()=>l(e.id),style:m.actionButton,children:(0,B.jsx)(f.default,{style:m.kickButton,children:"\u2715"})})]})]},e.id)))})}),(0,B.jsx)(a.default,{style:m.controls,children:i&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(p.default,{title:"Add AI Player",onPress:t}),g&&(0,B.jsx)(a.default,{style:m.buttonSpacer,children:(0,B.jsx)(p.default,{title:"Start Game",onPress:o})})]})})]})};var H=o(3296);o(9251);const M=({card:e,onPress:t,disabled:o})=>{const r="hearts"===e.suit||"diamonds"===e.suit;return(0,B.jsxs)(O.default,Object.assign({style:[U.card,o&&U.disabled],className:"card-hover",onPress:t,disabled:o},{style:[U.card,o&&U.disabled,{cursor:"pointer"}]},{children:[(0,B.jsx)(f.default,{style:[U.value,r&&U.redText],children:{11:"J",12:"Q",13:"K",14:"A"}[e.value]||e.value}),(0,B.jsx)(f.default,{style:[U.suit,r&&U.redText],children:{hearts:"\u2665",diamonds:"\u2666",clubs:"\u2663",spades:"\u2660"}[e.suit]})]}))},U=s.default.create({card:{width:60,height:90,backgroundColor:P.cardBackground,borderRadius:8,borderWidth:1,borderColor:P.cardBorder,padding:5,margin:2,alignItems:"center",justifyContent:"center"},disabled:{opacity:.5},value:{fontSize:24,color:P.cardTextBlack},suit:{fontSize:32,color:P.cardTextBlack},redText:{color:P.cardTextRed}}),W={TABLE_SIZE:280,TABLE_MEMBERS_EXPANSION_FACTOR:2.5,CARD_RADIUS_FACTOR:.5,PLAYER_RADIUS_FACTOR:.5,MIN_GAME_AREA_HEIGHT:350,CARD_SIZE:{width:60,height:85},PLAYER_INFO_MIN_WIDTH:80},z=({gameState:e,playerName:t,playerId:o,onPlayCard:r,onExtraAction:n})=>{const{colors:i}=A(),l=s.default.create({container:{flex:1,position:"relative",padding:10,width:"100%",alignSelf:"center",display:"flex",flexDirection:"column"},headerRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},status:{fontSize:16,flex:1,color:i.statusText},subtitle:{fontSize:18,fontWeight:"bold",marginBottom:5,color:i.subtitleText},trickContainer:{position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",zIndex:1},trickTable:{position:"relative",alignItems:"center",justifyContent:"center"},tableBackground:{position:"absolute",width:"100%",height:"100%",borderRadius:1e3,backgroundColor:i.tableFelt,borderWidth:4,borderColor:i.tableEdge},cardPositioner:{position:"absolute",width:0,height:0,alignItems:"center",justifyContent:"center"},trickCardContainer:{position:"absolute",alignItems:"center"},handContainer:{width:"100%",marginTop:5,marginBottom:10,flexShrink:0},handWrapper:{width:"100%",height:100},handContent:{alignItems:"center",paddingHorizontal:5},hand:{flexGrow:0},extraActionContainer:{marginTop:10,marginBottom:10},gameArea:{flex:1,position:"relative",marginVertical:10},playAreaContainer:{width:"100%",height:"100%",position:"relative",alignItems:"center",justifyContent:"center"},playerTable:{position:"absolute",width:0,height:0,alignItems:"center",justifyContent:"center",zIndex:2},playerInfo:{position:"absolute",alignItems:"center",backgroundColor:i.playerInfoBackground,padding:8,borderRadius:8,minWidth:80,borderWidth:1,borderColor:i.playerInfoBorder},winningPlayerInfo:{backgroundColor:i.winningPlayerBackground||"#4a9eff30",borderColor:i.winningPlayerBorder||"#4a9eff"},playerNameFixed:{fontSize:12,fontWeight:"bold",marginBottom:2},currentPlayerName:{color:i.currentPlayerText,fontWeight:"bold"},playerStats:{fontSize:10,color:i.playerStatsText},trumpInfo:{position:"absolute",top:5,right:5,alignItems:"center",backgroundColor:i.trumpInfoBackground,padding:5,borderRadius:6,borderWidth:1,borderColor:i.trumpInfoBorder,zIndex:10},trumpTitle:{fontSize:14,fontWeight:"bold",marginBottom:4},trumpHolder:{fontSize:12,color:i.playerStatsText,marginTop:4},teamScoreContainer:{flexDirection:"row",justifyContent:"flex-end",gap:5},teamScoreCard:{backgroundColor:i.teamScoreCardBackground,borderRadius:4,paddingVertical:3,paddingHorizontal:6,minWidth:50,alignItems:"center",borderWidth:1,borderColor:i.teamScoreCardBorder},playerTeamCard:{backgroundColor:i.playerTeamBackground,borderColor:i.playerTeamBorder},teamName:{fontSize:12,fontWeight:"500",textAlign:"center"},teamScore:{fontSize:14,fontWeight:"bold",color:i.teamScoreText},playerTeamScore:{color:i.playerTeamScoreText}}),c=e.public.currentPlayerIndex,d=e.public.players[c].id===o,u=e.public.gameSpecificData?.isResolvingTrick,m=e.public.isResolvingTurnEnd,g=e.public.isResolvingGameEnd,h=e.private?.hand||[],y=e.public.gameSpecificData?.currentTrick||[],x=e.public.gameSpecificData?.scores||[],b=e.public.gameSpecificData?.canToggle,T=e.public.gameSpecificData?.trumpCard,k=e.public.gameSpecificData?.trumpHolder,C=e.public.gameSpecificData?.teams||[],I=e.public.gameSpecificData?.gamePoints||[],S=C.findIndex((e=>e.includes(o))),j=H.default.get("window").width,v=H.default.get("window").height,w=F(j,v),E=W;return(0,B.jsxs)(a.default,{style:l.container,children:[(0,B.jsxs)(a.default,{style:l.headerRow,children:[(0,B.jsx)(f.default,{style:l.status,children:g?"Game ending...":m?"Round ending...":u?"Resolving trick...":d?"Your turn!":`Waiting for ${e.public.players[c].name}`}),C&&0!==C.length&&I?(0,B.jsx)(a.default,{style:l.teamScoreContainer,children:C.map(((e,t)=>{const o=I[t]||0,r=t===S;return(0,B.jsxs)(a.default,{style:[l.teamScoreCard,r&&l.playerTeamCard],children:[(0,B.jsxs)(f.default,{style:l.teamName,children:["Team ",t+1,r?" \u2605":""]}),(0,B.jsx)(f.default,{style:[l.teamScore,r&&l.playerTeamScore],children:o})]},`team-${t}`)}))}):null]}),(0,B.jsx)(a.default,{style:[l.gameArea,w.gameArea,{minHeight:E.MIN_GAME_AREA_HEIGHT}],children:(0,B.jsxs)(a.default,{style:l.playAreaContainer,children:[(()=>{if(!T||!k)return null;const t=e.public.players.find((e=>e.id===k))?.name;return(0,B.jsxs)(a.default,{style:l.trumpInfo,children:[(0,B.jsx)(f.default,{style:l.trumpTitle,children:"Trump Card:"}),(0,B.jsx)(M,{card:T}),(0,B.jsxs)(f.default,{style:l.trumpHolder,children:["Held by: ",t]})]})})(),(()=>{const t=e.public.players.findIndex((e=>e.id===o)),r=e.public.players.length,n=E.TABLE_SIZE/2*E.CARD_RADIUS_FACTOR,i=e=>{const o=(e-t+r)%r,a=-Math.PI/2-2*o*Math.PI/r;return{position:"absolute",transform:[{translateX:-n*Math.cos(a)},{translateY:-n*Math.sin(a)},{rotate:`${a+Math.PI/2}rad`}]}};return(0,B.jsx)(a.default,{style:l.trickContainer,children:(0,B.jsxs)(a.default,{style:[l.trickTable,{width:E.TABLE_SIZE,height:E.TABLE_SIZE}],children:[(0,B.jsx)(a.default,{style:l.tableBackground}),(0,B.jsx)(a.default,{style:l.cardPositioner,children:y?.map((({playerId:t,card:o})=>{const r=e.public.players.findIndex((e=>e.id===t));return(0,B.jsx)(a.default,{style:[l.trickCardContainer,i(r),{width:E.CARD_SIZE.width,height:E.CARD_SIZE.height}],children:(0,B.jsx)(M,{card:o})},t)}))})]})})})(),(()=>{const t=e.public.players.findIndex((e=>e.id===o)),r=e.public.players.length,n=E.TABLE_SIZE/2*E.PLAYER_RADIUS_FACTOR*E.TABLE_MEMBERS_EXPANSION_FACTOR,i=(()=>{if(!m||!C||!x)return[];const e=C.map((e=>e.reduce(((e,t)=>e+(x.find((e=>e.playerId===t))?.score||0)),0))),t=Math.max(...e);return e.map(((e,o)=>e===t?o:-1)).filter((e=>-1!==e))})(),s=e=>{const o=(e-t+r)%r,a=-Math.PI/2-2*o*Math.PI/r;return{position:"absolute",transform:[{translateX:-n*Math.cos(a)},{translateY:-n*Math.sin(a)}]}};return(0,B.jsx)(a.default,{style:l.playerTable,children:e.public.players.map(((t,r)=>{const n=e.public.gameSpecificData?.scores?.find((e=>e.playerId===t.id))?.score||0,c=C.findIndex((e=>e.includes(t.id))),d=i.includes(c);return(0,B.jsxs)(a.default,{style:[l.playerInfo,s(r),{minWidth:E.PLAYER_INFO_MIN_WIDTH},d&&m&&l.winningPlayerInfo],children:[(0,B.jsx)(f.default,{style:[l.playerNameFixed,t.id===o&&l.currentPlayerName],children:t.name}),(m||e.public.isResolvingGameEnd)&&(0,B.jsxs)(f.default,{style:l.playerStats,children:["Points: ",n]})]},t.id)}))})})()]})}),(0,B.jsxs)(a.default,{style:l.handContainer,children:[(0,B.jsx)(f.default,{style:l.subtitle,children:"Your Hand:"}),(0,B.jsx)(a.default,{style:l.handWrapper,children:(0,B.jsx)(D.default,{horizontal:!0,contentContainerStyle:l.handContent,children:h.map(((e,t)=>(0,B.jsx)(M,{card:e,onPress:()=>d&&r(t)},t)))})}),d&&b&&n?(0,B.jsx)(a.default,{style:l.extraActionContainer,children:(0,B.jsx)(p.default,{title:`Toggle ${e.public.gameSpecificData?.isHighWins?"High":"Low"} Wins`,onPress:()=>n("TOGGLE_WIN_CONDITION",{})})}):null]})]})},F=(e,t)=>({gameArea:{maxHeight:.6*t},playerTable:e<=768?{maxWidth:350,maxHeight:350}:{maxWidth:450,maxHeight:450}}),Y=({teams:e,gamePoints:t,playerId:o,players:r,gamePointsReversed:n})=>{const{colors:i}=A(),l=s.default.create({container:{flex:1,padding:20},title:{fontSize:24,fontWeight:"bold",textAlign:"center",marginBottom:10},subtitle:{fontSize:18,textAlign:"center",marginBottom:20},scoreList:{flex:1},teamRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,backgroundColor:i.teamScoreCardBackground,borderRadius:8,marginBottom:10,borderWidth:1,borderColor:i.teamScoreCardBorder},playerTeamRow:{backgroundColor:i.playerTeamBackground,borderColor:i.playerTeamBorder},winnerRow:{borderWidth:2,borderColor:"gold"},rankAndTeam:{flexDirection:"row",flex:1,alignItems:"flex-start"},rank:{fontSize:18,fontWeight:"bold",marginRight:10,width:25},teamMembers:{flex:1},teamTitle:{fontSize:16,fontWeight:"bold",marginBottom:5},playerName:{fontSize:14,marginLeft:10,color:i.statusText},currentPlayerName:{fontWeight:"bold",color:i.currentPlayerText},playerTeamText:{color:i.playerTeamScoreText},points:{fontSize:18,fontWeight:"bold",color:i.teamScoreText}}),c=e.findIndex((e=>e.includes(o))),d=[...e.map(((e,o)=>({teamIndex:o,teamMembers:e,points:t[o]||0,isPlayerTeam:o===c})))].sort(((e,t)=>n?e.points-t.points:t.points-e.points));return(0,B.jsxs)(a.default,{style:l.container,children:[(0,B.jsx)(f.default,{style:[l.title,{color:i.titleText}],children:"Game Finished"}),(0,B.jsx)(f.default,{style:[l.subtitle,{color:i.subtitleText}],children:"Final Scores"}),(0,B.jsx)(D.default,{style:l.scoreList,children:d.map(((e,t)=>{const n=0===t;return(0,B.jsxs)(a.default,{style:[l.teamRow,e.isPlayerTeam&&l.playerTeamRow,n&&l.winnerRow],children:[(0,B.jsxs)(a.default,{style:l.rankAndTeam,children:[(0,B.jsxs)(f.default,{style:[l.rank,e.isPlayerTeam&&l.playerTeamText],children:[t+1,"."]}),(0,B.jsxs)(a.default,{style:l.teamMembers,children:[(0,B.jsxs)(f.default,{style:[l.teamTitle,e.isPlayerTeam&&l.playerTeamText],children:["Team ",e.teamIndex+1," ",e.isPlayerTeam&&"(Your Team)",n&&" \ud83c\udfc6"]}),e.teamMembers.map((t=>{const n=r.find((e=>e.id===t));return(0,B.jsxs)(f.default,{style:[l.playerName,t===o&&l.currentPlayerName,e.isPlayerTeam&&l.playerTeamText],children:[n?.name||"Unknown"," ",t===o&&"(You)",n?.isAgent&&" (AI)"]},t)}))]})]}),(0,B.jsxs)(f.default,{style:[l.points,e.isPlayerTeam&&l.playerTeamText],children:[e.points," pts"]})]},`team-${e.teamIndex}`)}))})]})};let J=function(e){return e.WAITING="WAITING",e.PLAYING="PLAYING",e.FINISHED="FINISHED",e}({});var K=o(3681);const V=({visible:e,title:t,message:o,onConfirm:r,onCancel:n})=>(0,B.jsx)(K.default,{transparent:!0,visible:e,animationType:"fade",onRequestClose:n,children:(0,B.jsx)(a.default,{style:$.overlay,children:(0,B.jsxs)(a.default,{style:$.dialog,children:[(0,B.jsx)(f.default,{style:$.title,children:t}),(0,B.jsx)(f.default,{style:$.message,children:o}),(0,B.jsxs)(a.default,{style:$.buttonContainer,children:[(0,B.jsx)(O.default,{style:[$.button,$.cancelButton],onPress:n,children:(0,B.jsx)(f.default,{style:$.buttonText,children:"Cancel"})}),(0,B.jsx)(O.default,{style:[$.button,$.confirmButton],onPress:r,children:(0,B.jsx)(f.default,{style:$.buttonText,children:"Leave Game"})})]})]})})}),$=s.default.create({overlay:{flex:1,backgroundColor:P.dialogOverlay,justifyContent:"center",alignItems:"center"},dialog:{backgroundColor:P.dialogBackground,borderRadius:10,padding:20,width:"80%",maxWidth:400},title:{fontSize:18,fontWeight:"bold",marginBottom:10,textAlign:"center"},message:{fontSize:16,marginBottom:20,textAlign:"center"},buttonContainer:{flexDirection:"row",justifyContent:"space-between"},button:{flex:1,padding:10,borderRadius:5,marginHorizontal:5},cancelButton:{backgroundColor:P.dialogCancelButton},confirmButton:{backgroundColor:P.dialogConfirmButton},buttonText:{color:P.dialogButtonText,textAlign:"center",fontSize:16}});var X=o(698);const Z=({gameId:e,style:t})=>{const[o,r]=(0,n.useState)(!1),a=(0,X.useNavigation)(),i=S.getInstance();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(O.default,{style:[q.leaveButton,t],onPress:()=>r(!0),children:(0,B.jsx)(f.default,{style:q.leaveButtonText,children:"Leave Game"})}),(0,B.jsx)(V,{visible:o,title:"Leave Game",message:"Are you sure you want to leave this game? This action cannot be undone.",onConfirm:async()=>{try{(await i.leaveGame(e)).success?a.reset({index:0,routes:[{name:"Home"}]}):console.error("Failed to leave game")}catch(t){console.error("Error leaving game:",t)}r(!1)},onCancel:()=>r(!1)})]})},q=s.default.create({leaveButton:{backgroundColor:"#d32f2f",padding:10,borderRadius:5,position:"absolute",top:10,right:10},leaveButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),Q=({gameId:e,style:t,isOwner:o})=>{const{colors:r}=A();if(!o)return null;return(0,B.jsx)(O.default,{style:[ee.shareButton,t],onPress:async()=>{let t;{const o=window.location.pathname,r=o.endsWith("/")?o:o.substring(0,o.lastIndexOf("/")+1);t=`${window.location.origin}${r}game/${e}`,console.log("Generated share URL:",t)}const o=t;try{navigator.clipboard.writeText(o||"").then((()=>{alert("Game link copied to clipboard! Share it with your friends.")})).catch((e=>{console.error("Could not copy text: ",e),alert("Failed to copy the game link.")}))}catch(r){console.error("Error sharing:",r),alert("Could not share the game link")}},children:(0,B.jsx)(f.default,{style:ee.shareButtonText,children:"Share Game Link"})})},ee=s.default.create({shareButton:{backgroundColor:"#4CAF50",padding:10,borderRadius:5},shareButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),te=({route:e})=>{const{gameId:t,playerName:o}=e.params,[r,i]=(0,n.useState)(null),[l,d]=(0,n.useState)({mode:"management",isCurrentPlayer:!1}),[u,m]=(0,n.useState)(!1),[g,h]=(0,n.useState)(_.default.currentState),p=S.getInstance(),{colors:y}=A(),x=(0,X.useNavigation)();console.log("GameScreen mounted with gameId:",t,"and playerName:",o),(0,X.useFocusEffect)((0,n.useCallback)((()=>{const e=()=>(m(!0),!0);return N.default.addEventListener("hardwareBackPress",e),x.setOptions({headerLeft:()=>null}),()=>N.default.removeEventListener("hardwareBackPress",e)}),[x])),(0,n.useEffect)((()=>{const e=_.default.addEventListener("change",(e=>{console.log("App state changed from",g,"to",e),g.match(/inactive|background/)&&"active"===e&&(console.log("App has come back to the foreground!"),p.isConnected()||(console.log("Socket disconnected while app was in background, attempting to reconnect..."),p.reconnect().catch((e=>{console.error("Failed to reconnect socket:",e),c.default.alert("Connection Lost","Your connection to the game was lost. Please log in again.",[{text:"OK",onPress:()=>x.reset({index:0,routes:[{name:"Login"}]})}])})))),h(e)}));return()=>{e.remove()}}),[g,x]),(0,n.useEffect)((()=>{console.log("useEffect called");const e=e=>{console.log("handleNotInGame called with data:",e),console.log("currentGameId:",t),console.log("currentUserId:",p.getCurrentUser()?.userId),e.gameId===t&&e.playerId===p.getCurrentUser()?.userId&&(console.log("Navigating to Home screen due to NOT_IN_GAME event"),x.reset({index:0,routes:[{name:"Home"}]}))};return p.on(C.NOT_IN_GAME,e),p.onGameState((e=>{console.log("Game state received:",e),i(e),d((t=>Object.assign({},t,{mode:"PLAYING"===e.public.phase?"playing":"management",isCurrentPlayer:e.public.players[e.public.currentPlayerIndex]?.name===o})))})),()=>{p.off(C.NOT_IN_GAME,e)}}),[t,x]);const b=()=>{p.addAgent(t)},T=()=>{p.startGame(t)},k=e=>{p.playCard(t,e)},I=(e,o)=>{p.extraAction(t,e,o)},j=e=>{p.kickPlayer(t,e)},v=(e,o)=>{p.reorderPlayer(t,e,o)};if(!r)return(0,B.jsx)(f.default,{children:"Loading..."});const w=s.default.create({container:{flex:1,padding:20,position:"relative"},headerButtons:{flexDirection:"row",justifyContent:"space-between",width:"100%",padding:10,marginBottom:10},title:{fontSize:24,fontWeight:"bold",marginTop:10,textAlign:"center"},subtitle:{fontSize:18,fontWeight:"bold",marginBottom:10},controls:{flexDirection:"row",justifyContent:"space-around",marginBottom:20},status:{fontSize:16,marginBottom:20},trickContainer:{marginBottom:20},trick:{flexGrow:0,height:100},handContainer:{marginTop:"auto"},hand:{flexGrow:0,height:100},scoreboard:{marginTop:20}});return(0,B.jsxs)(a.default,{style:[w.container,{backgroundColor:y.containerBackground}],children:[(0,B.jsxs)(a.default,{style:w.headerButtons,children:[(0,B.jsx)(Q,{gameId:t,isOwner:r?.public?.owner===p.getCurrentUser()?.userId}),(0,B.jsx)(Z,{gameId:t})]}),(0,B.jsx)(f.default,{style:[w.title,{color:y.titleText}],children:t}),r.public.phase===J.FINISHED?(0,B.jsx)(Y,{teams:r.public.gameSpecificData?.teams||[],gamePoints:r.public.gameSpecificData?.gamePoints||[],playerId:p.getCurrentUser()?.userId||"",players:r.public.players,gamePointsReversed:r.public.gameCharacteristics.gamePointsReversed}):"management"===l.mode?(0,B.jsx)(L,{gameId:t,onAddAgent:b,onStartGame:T,playerCount:r.public.players.length,players:r.public.players.map((e=>Object.assign({},e,{isOwner:e.id===r.public.owner}))),isOwner:r.public.owner===p.getCurrentUser()?.userId,onKickPlayer:j,onReorderPlayer:v,gameCharacteristics:r.public.gameCharacteristics}):(0,B.jsx)(z,{gameState:r,playerName:o,playerId:p.getCurrentUser()?.userId||"",onPlayCard:k,onExtraAction:I}),(0,B.jsx)(V,{visible:u,title:"Leave Game",message:"Are you sure you want to leave this game? This action cannot be undone.",onConfirm:async()=>{try{(await p.leaveGame(t)).success&&x.reset({index:0,routes:[{name:"Home"}]})}catch(e){console.error("Error leaving game:",e)}m(!1)},onCancel:()=>m(!1)})]})};var oe=o(4915);const re=["SUECA"],ne=({route:e,navigation:t})=>{const{colors:o}=A();console.log("GameCreationScreen rendered"),console.log("Route params:",e.params);const{playerName:r}=e.params,i=S.getInstance(),[l,c]=(0,n.useState)(re[0]),[d,u]=(0,n.useState)(""),m=s.default.create({container:{flex:1,padding:20},title:{fontSize:24,marginBottom:20},formGroup:{marginBottom:20},label:{marginBottom:10},picker:{padding:10},input:{borderWidth:1,borderColor:o.inputBorder,borderRadius:5,padding:10,color:o.inputText,backgroundColor:o.inputBackground}});return(0,B.jsxs)(a.default,{style:[m.container,{backgroundColor:o.containerBackground}],children:[(0,B.jsx)(f.default,{style:[m.title,{color:o.titleText}],children:"Game Creation"}),(0,B.jsxs)(a.default,{style:m.formGroup,children:[(0,B.jsx)(f.default,{style:[m.label,{color:o.subtitleText}],children:"Select Game Type:"}),(0,B.jsx)(oe.Picker,{selectedValue:l,onValueChange:e=>c(e),style:[m.picker,{backgroundColor:o.pickerBackground}],children:re.map((e=>(0,B.jsx)(oe.Picker.Item,{label:e.replace("_"," "),value:e},e)))})]}),(0,B.jsxs)(a.default,{style:m.formGroup,children:[(0,B.jsx)(f.default,{style:[m.label,{color:o.subtitleText}],children:"Game Name (optional):"}),(0,B.jsx)(h.default,{style:m.input,value:d,onChangeText:u,placeholder:"Enter game name or leave blank for random",placeholderTextColor:o.placeholderText})]}),(0,B.jsx)(p.default,{title:"Create Game",onPress:async()=>{console.log("Creating game"),await i.connect(r),console.log("Connected to socket");const e=d.trim()||Math.random().toString(16).substring(2,10),o=await i.createGame(r,l,e);o.success&&o.gameId&&(console.log("Game created successfully"),t.navigate("Game",{gameId:o.gameId,playerName:r}))},color:o.primaryButton})]})},ae=({route:e,navigation:t})=>{const{colors:o}=A(),{playerName:r}=e.params,i=S.getInstance(),[l,c]=(0,n.useState)(""),d=s.default.create({container:{flex:1,padding:20,justifyContent:"center"},input:{borderWidth:1,borderColor:o.inputBorder,padding:10,marginBottom:20,borderRadius:5},buttonContainer:{gap:10}});return(0,B.jsxs)(a.default,{style:[d.container,{backgroundColor:o.containerBackground}],children:[(0,B.jsx)(h.default,{style:[d.input,{backgroundColor:o.inputBackground}],placeholder:"Enter game name",onChangeText:e=>c(e),placeholderTextColor:o.playerStatsText}),(0,B.jsx)(p.default,{title:"Join Game",onPress:async()=>{await i.connect(r),await i.joinGame(l,r),t.navigate("Game",{gameId:l,playerName:r})},color:o.primaryButton})]})};var ie=o(1174);const se=()=>{const{toggleTheme:e,themeType:t}=A();return(0,B.jsx)(O.default,{style:le.button,onPress:e,accessibilityLabel:"Toggle theme",accessibilityRole:"button",children:(0,B.jsx)(ie.default,{name:"light"===t?"moon-outline":"sunny-outline",size:22,color:"light"===t?"#333":"#fff"})})},le=s.default.create({button:{marginRight:8,padding:8}}),ce=(0,m.createStackNavigator)();(0,g.createNativeStackNavigator)();const de=()=>{const e=ce,{colors:t,themeType:o}=A(),r=(0,n.useRef)(null),[s,m]=(0,n.useState)({name:"Login",params:{}}),[g,h]=(0,n.useState)(!1),p=Object.assign({},d.DefaultTheme,{colors:Object.assign({},d.DefaultTheme.colors,{background:t.appBackground,card:t.containerBackground,text:t.titleText,border:t.inputBorder,primary:t.primaryButton})}),f=async e=>{if(!e)return;let t;console.log("Received deep link:",e);const o=e.match(/cardgame:\/\/game\/([^\/]+)/);o&&(t=o[1]);const n=e.match(/\/game\/([^\/]+)(?:\/|$)/);if(n&&(t=n[1]),t){console.log("Deep link contains game ID:",t);const e=S.getInstance();if(e.isLoggedIn()){const o=r.current;if(o)try{await e.connect(e.getCurrentUser()?.username||"");const r=await e.joinGame(t,e.getCurrentUser()?.username||"");r.success?o.reset({index:0,routes:[{name:"Game",params:{gameId:t,playerName:e.getCurrentUser()?.username}}]}):c.default.alert("Game Join Failed","Game not found or cannot join"===r.error?"The game you tried to join does not exist or is no longer available.":"Could not join the game.",[{text:"OK",onPress:()=>o.reset({index:0,routes:[{name:"Home"}]})}])}catch(a){console.error("Error joining game:",a),c.default.alert("Connection Error","Failed to connect to the game server. Please try again later.",[{text:"OK",onPress:()=>o.reset({index:0,routes:[{name:"Home"}]})}])}}else m({name:"Login",params:{gameId:t}})}};return(0,n.useEffect)((()=>{{const e=window.location.pathname,t=e.match(/\/game\/([^\/]+)(?:\/|$)/);t&&(console.log("Found game ID in web path:",t[1]),f(e))}const e=l.default.addEventListener("url",(({url:e})=>{f(e)}));return l.default.getInitialURL().then((e=>{e&&f(e),h(!0)})).catch((e=>{console.error("Error getting initial URL:",e),h(!0)})),()=>{e.remove()}}),[]),(0,n.useEffect)((()=>{const e=S.getInstance(),t=e.getSocket(),o=t=>{console.log("Socket disconnected:",t),"io server disconnect"!==t&&"transport close"!==t||setTimeout((()=>{e.reconnect().catch((e=>{console.error("Failed to reconnect socket after disconnect:",e)}))}),1e3)};return t.on("disconnect",o),()=>{t.off("disconnect",o)}}),[]),g?(0,B.jsxs)(a.default,{style:[ue.container,{backgroundColor:t.appBackground}],children:[(0,B.jsx)(i.default,{backgroundColor:t.appBackground,barStyle:"dark"===o?"light-content":"dark-content"}),(0,B.jsx)(u.NavigationContainer,{theme:p,ref:r,initialState:{routes:[s]},children:(0,B.jsxs)(e.Navigator,{initialRouteName:s.name,screenOptions:{headerShown:!0,headerStyle:{backgroundColor:t.containerBackground,borderBottomColor:t.inputBorder,borderBottomWidth:1},headerTitleStyle:{color:t.titleText},headerTintColor:t.titleText,headerRight:()=>(0,B.jsx)(se,{})},children:[(0,B.jsx)(e.Screen,{name:"Login",component:G,options:{title:"Sign In",headerLeft:()=>null}}),(0,B.jsx)(e.Screen,{name:"Home",component:R,options:{title:"Home",headerLeft:()=>null}}),(0,B.jsx)(e.Screen,{name:"Game",component:te}),(0,B.jsx)(e.Screen,{name:"GameCreation",component:ne,options:{title:"Create Game"}}),(0,B.jsx)(e.Screen,{name:"JoinGame",component:ae,options:{title:"Join Game"}})]})})]}):null},ue=s.default.create({container:{flex:1}});(0,r.default)((function(){return(0,B.jsx)(E,{children:(0,B.jsx)(de,{})})}))},9251:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});const r={}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.m=e,(()=>{var e=[];o.O=(t,r,n,a)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,n,a]=e[d],s=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,n,a]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="./",(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[i,s,l]=r,c=0;if(i.some((t=>0!==e[t]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var d=l(o)}for(t&&t(r);c<i.length;c++)a=i[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=o.O(void 0,[708],(()=>o(8914)));r=o.O(r)})();
//# sourceMappingURL=main.68efa733.js.map